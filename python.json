[
  [
    {
      "name": "os",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 0,
            "character": 0
          },
          "end": {
            "line": 0,
            "character": 9
          }
        }
      },
      "kind": "Module",
      "code_string": "import os"
    },
    {
      "name": "json",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 1,
            "character": 0
          },
          "end": {
            "line": 1,
            "character": 11
          }
        }
      },
      "kind": "Module",
      "code_string": "import json"
    },
    {
      "name": "asyncio",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 2,
            "character": 0
          },
          "end": {
            "line": 2,
            "character": 14
          }
        }
      },
      "kind": "Module",
      "code_string": "import asyncio"
    },
    {
      "name": "Dict",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 3,
            "character": 0
          },
          "end": {
            "line": 3,
            "character": 51
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Optional, Any, Union"
    },
    {
      "name": "List",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 3,
            "character": 0
          },
          "end": {
            "line": 3,
            "character": 51
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Optional, Any, Union"
    },
    {
      "name": "Optional",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 3,
            "character": 0
          },
          "end": {
            "line": 3,
            "character": 51
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Optional, Any, Union"
    },
    {
      "name": "Any",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 3,
            "character": 0
          },
          "end": {
            "line": 3,
            "character": 51
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Optional, Any, Union"
    },
    {
      "name": "Union",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 3,
            "character": 0
          },
          "end": {
            "line": 3,
            "character": 51
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Optional, Any, Union"
    },
    {
      "name": "Path",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 4,
            "character": 0
          },
          "end": {
            "line": 4,
            "character": 24
          }
        }
      },
      "kind": "Class",
      "code_string": "from pathlib import Path"
    },
    {
      "name": "LSPClient",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 6,
            "character": 0
          },
          "end": {
            "line": 6,
            "character": 32
          }
        }
      },
      "kind": "Class",
      "code_string": "from lsp_client import LSPClient"
    },
    {
      "name": "SYMBOL_KIND_MAP",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 8,
            "character": 0
          },
          "end": {
            "line": 35,
            "character": 1
          }
        }
      },
      "kind": "Variable",
      "code_string": "SYMBOL_KIND_MAP = {\n    1: \"File\",\n    2: \"Module\",\n    3: \"Namespace\",\n    4: \"Package\",\n    5: \"Class\",\n    6: \"Method\",\n    7: \"Property\",\n    8: \"Field\",\n    9: \"Constructor\",\n    10: \"Enum\",\n    11: \"Interface\",\n    12: \"Function\",\n    13: \"Variable\",\n    14: \"Constant\",\n    15: \"String\",\n    16: \"Number\",\n    17: \"Boolean\",\n    18: \"Array\",\n    19: \"Object\",\n    20: \"Key\",\n    21: \"Null\",\n    22: \"EnumMember\",\n    23: \"Struct\",\n    24: \"Event\",\n    25: \"Operator\",\n    26: \"TypeParameter\",\n}"
    },
    {
      "name": "AsyncUniversalExtractor",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 38,
            "character": 0
          },
          "end": {
            "line": 251,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class AsyncUniversalExtractor:\n    \"\"\"Async universal code extractor using LSP\"\"\"\n\n    def __init__(self):\n        self.lsp_clients: Dict[str, LSPClient] = {}\n        self.language_server_configs = {\n            \"python\": [\"pylsp\"],  # python-lsp-server\n            \"javascript\": [\"typescript-language-server\", \"--stdio\"],\n            \"typescript\": [\"typescript-language-server\", \"--stdio\"],\n            \"java\": [\"jdtls\"],  # Eclipse JDT Language Server\n            \"go\": [\"gopls\"],\n            \"rust\": [\"rust-analyzer\"],\n            \"cpp\": [\"clangd\"],\n            \"c\": [\"clangd\"],\n        }\n\n    async def cleanup(self):\n        \"\"\"Clean up all LSP clients and their subprocesses\"\"\"\n        print(\"\ud83e\uddf9 Cleaning up LSP clients...\")\n        for language, client in self.lsp_clients.items():\n            try:\n                print(f\"  Stopping {language} LSP client...\")\n                await client.stop()\n                print(f\"  \u2705 Stopped {language} LSP client\")\n            except Exception as e:\n                print(f\"  \u274c Error stopping {language} client: {e}\")\n        self.lsp_clients.clear()\n        print(\"\u2705 All LSP clients cleaned up\")\n\n    def detect_language(self, file_path: str) -> str:\n        \"\"\"Detect language from file extension\"\"\"\n        ext = Path(file_path).suffix.lower()\n\n        language_map = {\n            \".py\": \"python\",\n            \".js\": \"javascript\",\n            \".ts\": \"typescript\",\n            \".java\": \"java\",\n            \".cpp\": \"cpp\",\n            \".c\": \"c\",\n            \".cs\": \"csharp\",\n            \".go\": \"go\",\n            \".rs\": \"rust\",\n            \".rb\": \"ruby\",\n            \".php\": \"php\",\n            \".swift\": \"swift\",\n            \".kt\": \"kotlin\",\n            \".scala\": \"scala\",\n            \".hs\": \"haskell\",\n        }\n\n        return language_map.get(ext, \"unknown\")\n\n    async def get_or_create_lsp_client(\n        self, language: str, workspace_path: str\n    ) -> Optional[LSPClient]:\n        \"\"\"Get or create LSP client for a language\"\"\"\n        if language in self.lsp_clients:\n            return self.lsp_clients[language]\n\n        if language not in self.language_server_configs:\n            print(f\"No LSP server config for {language}\")\n            return None\n\n        try:\n            command = self.language_server_configs[language][0]\n            args = self.language_server_configs[language][1:]\n\n            client = LSPClient(command, args, workspace_path)\n            await client.start()\n            await client.initialize(workspace_path)\n\n            self.lsp_clients[language] = client\n            print(f\"\u2705 Initialized LSP client for {language}\")\n            return client\n\n        except Exception as e:\n            print(f\"\u274c Failed to initialize LSP client for {language}: {e}\")\n            return None\n\n    def get_code_from_symbols(self, d):\n        file_path = d.get(\"location\").get(\"uri\")\n        start_line = d.get(\"location\").get(\"range\").get(\"start\").get(\"line\")\n        start_char = d.get(\"location\").get(\"range\").get(\"start\").get(\"character\")\n        end_line = d.get(\"location\").get(\"range\").get(\"end\").get(\"line\")\n        end_char = d.get(\"location\").get(\"range\").get(\"end\").get(\"character\")\n\n        with open(file_path.replace(\"file:///\", \"/\"), \"r\") as f:\n            lines = f.readlines()\n\n        # Adjust lines because lists are 0-indexed\n        selected_lines = lines[start_line : end_line + 1]\n\n        # Trim the first and last lines by character indices\n        if selected_lines:\n            selected_lines[0] = selected_lines[0][start_char:]\n            selected_lines[-1] = selected_lines[-1][:end_char]\n\n        return \"\".join(selected_lines)\n\n    async def extract_module_from_file(self, file_path: str, workspace_path: str):\n        \"\"\"Extract a single module from a file using LSP\"\"\"\n        try:\n            language = self.detect_language(file_path)\n            if language == \"unknown\":\n                print(f\"Unknown language for {file_path}\")\n                return None\n\n            # Get or create LSP client\n            lsp_client = await self.get_or_create_lsp_client(language, workspace_path)\n            if not lsp_client:\n                print(f\"No LSP client available for {language}\")\n                return None\n\n            # Get document symbols\n            symbols = await lsp_client.get_document_symbols(file_path)\n            for i in symbols:\n                i[\"code_string\"] = self.get_code_from_symbols(i)\n                i[\"kind\"] = SYMBOL_KIND_MAP[i.get(\"kind\")]\n            print(json.dumps(symbols))\n\n            return symbols\n\n        except Exception as e:\n            print(f\"Error extracting from {file_path}: {e}\")\n            return None\n\n    async def extract_codebase(self, root_path: str):\n        \"\"\"Extract entire codebase from a directory\"\"\"\n        try:\n            file_patterns = [\n                \"*.py\",\n                \"*.js\",\n                \"*.ts\",\n                \"*.java\",\n                \"*.cpp\",\n                \"*.c\",\n                \"*.cs\",\n                \"*.go\",\n                \"*.rs\",\n            ]\n\n            root_path_obj = Path(root_path)\n            files_to_process = []\n            codebase = []\n            for pattern in file_patterns:\n                files_to_process.extend(root_path_obj.rglob(pattern))\n            # Filter out files in common ignore directories\n            ignore_dirs = {\n                \".git\",\n                \"__pycache__\",\n                \".pytest_cache\",\n                \"node_modules\",\n                \".venv\",\n                \"venv\",\n                \"env\",\n                \"target\",\n                \"build\",\n                \"dist\",\n            }\n\n            filtered_files = []\n            for file_path in files_to_process:\n                if file_path.is_file():\n                    # Check if any parent directory is in ignore list\n                    if not any(part in ignore_dirs for part in file_path.parts):\n                        filtered_files.append(file_path)\n\n            # Group files by language\n            language_files = {}\n            for file_path in filtered_files:\n                language = self.detect_language(str(file_path))\n                if language != \"unknown\":\n                    if language not in language_files:\n                        language_files[language] = []\n                    language_files[language].append(file_path)\n\n            print(f\"Found files in languages: {list(language_files.keys())}\")\n\n            # Process files by language\n            for language, files in language_files.items():\n                print(f\"Processing {len(files)} {language} files...\")\n\n                # Initialize LSP for this language\n                lsp_client = await self.get_or_create_lsp_client(\n                    language, str(root_path_obj.absolute())\n                )\n                if not lsp_client:\n                    print(f\"Skipping {language} files due to LSP initialization failure\")\n                    continue\n\n                # Process files\n                successful = 0\n                for file_path in files:\n                    try:\n                        print(file_path)\n                        module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )\n                        if module:\n                            codebase.append(module)\n                            successful += 1\n                            print(f\"  \u2705 {file_path.name}\")\n                        else:\n                            print(f\"  \u274c {file_path.name}\")\n                    except Exception as e:\n                        print(f\"  \u274c {file_path.name}: {e}\")\n\n                print(f\"Successfully processed {successful}/{len(files)} {language} files\")\n            return codebase\n        finally:\n            # Always clean up LSP clients\n            await self.cleanup()\n"
    },
    {
      "name": "__init__",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 41,
            "character": 4
          },
          "end": {
            "line": 53,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def __init__(self):\n        self.lsp_clients: Dict[str, LSPClient] = {}\n        self.language_server_configs = {\n            \"python\": [\"pylsp\"],  # python-lsp-server\n            \"javascript\": [\"typescript-language-server\", \"--stdio\"],\n            \"typescript\": [\"typescript-language-server\", \"--stdio\"],\n            \"java\": [\"jdtls\"],  # Eclipse JDT Language Server\n            \"go\": [\"gopls\"],\n            \"rust\": [\"rust-analyzer\"],\n            \"cpp\": [\"clangd\"],\n            \"c\": [\"clangd\"],\n        }\n"
    },
    {
      "name": "cleanup",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 54,
            "character": 10
          },
          "end": {
            "line": 66,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def cleanup(self):\n        \"\"\"Clean up all LSP clients and their subprocesses\"\"\"\n        print(\"\ud83e\uddf9 Cleaning up LSP clients...\")\n        for language, client in self.lsp_clients.items():\n            try:\n                print(f\"  Stopping {language} LSP client...\")\n                await client.stop()\n                print(f\"  \u2705 Stopped {language} LSP client\")\n            except Exception as e:\n                print(f\"  \u274c Error stopping {language} client: {e}\")\n        self.lsp_clients.clear()\n        print(\"\u2705 All LSP clients cleaned up\")\n"
    },
    {
      "name": "detect_language",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 67,
            "character": 4
          },
          "end": {
            "line": 90,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def detect_language(self, file_path: str) -> str:\n        \"\"\"Detect language from file extension\"\"\"\n        ext = Path(file_path).suffix.lower()\n\n        language_map = {\n            \".py\": \"python\",\n            \".js\": \"javascript\",\n            \".ts\": \"typescript\",\n            \".java\": \"java\",\n            \".cpp\": \"cpp\",\n            \".c\": \"c\",\n            \".cs\": \"csharp\",\n            \".go\": \"go\",\n            \".rs\": \"rust\",\n            \".rb\": \"ruby\",\n            \".php\": \"php\",\n            \".swift\": \"swift\",\n            \".kt\": \"kotlin\",\n            \".scala\": \"scala\",\n            \".hs\": \"haskell\",\n        }\n\n        return language_map.get(ext, \"unknown\")\n"
    },
    {
      "name": "get_or_create_lsp_client",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 91,
            "character": 10
          },
          "end": {
            "line": 117,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_or_create_lsp_client(\n        self, language: str, workspace_path: str\n    ) -> Optional[LSPClient]:\n        \"\"\"Get or create LSP client for a language\"\"\"\n        if language in self.lsp_clients:\n            return self.lsp_clients[language]\n\n        if language not in self.language_server_configs:\n            print(f\"No LSP server config for {language}\")\n            return None\n\n        try:\n            command = self.language_server_configs[language][0]\n            args = self.language_server_configs[language][1:]\n\n            client = LSPClient(command, args, workspace_path)\n            await client.start()\n            await client.initialize(workspace_path)\n\n            self.lsp_clients[language] = client\n            print(f\"\u2705 Initialized LSP client for {language}\")\n            return client\n\n        except Exception as e:\n            print(f\"\u274c Failed to initialize LSP client for {language}: {e}\")\n            return None\n"
    },
    {
      "name": "get_code_from_symbols",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 118,
            "character": 4
          },
          "end": {
            "line": 137,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_code_from_symbols(self, d):\n        file_path = d.get(\"location\").get(\"uri\")\n        start_line = d.get(\"location\").get(\"range\").get(\"start\").get(\"line\")\n        start_char = d.get(\"location\").get(\"range\").get(\"start\").get(\"character\")\n        end_line = d.get(\"location\").get(\"range\").get(\"end\").get(\"line\")\n        end_char = d.get(\"location\").get(\"range\").get(\"end\").get(\"character\")\n\n        with open(file_path.replace(\"file:///\", \"/\"), \"r\") as f:\n            lines = f.readlines()\n\n        # Adjust lines because lists are 0-indexed\n        selected_lines = lines[start_line : end_line + 1]\n\n        # Trim the first and last lines by character indices\n        if selected_lines:\n            selected_lines[0] = selected_lines[0][start_char:]\n            selected_lines[-1] = selected_lines[-1][:end_char]\n\n        return \"\".join(selected_lines)\n"
    },
    {
      "name": "extract_module_from_file",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 138,
            "character": 10
          },
          "end": {
            "line": 164,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def extract_module_from_file(self, file_path: str, workspace_path: str):\n        \"\"\"Extract a single module from a file using LSP\"\"\"\n        try:\n            language = self.detect_language(file_path)\n            if language == \"unknown\":\n                print(f\"Unknown language for {file_path}\")\n                return None\n\n            # Get or create LSP client\n            lsp_client = await self.get_or_create_lsp_client(language, workspace_path)\n            if not lsp_client:\n                print(f\"No LSP client available for {language}\")\n                return None\n\n            # Get document symbols\n            symbols = await lsp_client.get_document_symbols(file_path)\n            for i in symbols:\n                i[\"code_string\"] = self.get_code_from_symbols(i)\n                i[\"kind\"] = SYMBOL_KIND_MAP[i.get(\"kind\")]\n            print(json.dumps(symbols))\n\n            return symbols\n\n        except Exception as e:\n            print(f\"Error extracting from {file_path}: {e}\")\n            return None\n"
    },
    {
      "name": "extract_codebase",
      "containerName": "AsyncUniversalExtractor",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 165,
            "character": 10
          },
          "end": {
            "line": 251,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def extract_codebase(self, root_path: str):\n        \"\"\"Extract entire codebase from a directory\"\"\"\n        try:\n            file_patterns = [\n                \"*.py\",\n                \"*.js\",\n                \"*.ts\",\n                \"*.java\",\n                \"*.cpp\",\n                \"*.c\",\n                \"*.cs\",\n                \"*.go\",\n                \"*.rs\",\n            ]\n\n            root_path_obj = Path(root_path)\n            files_to_process = []\n            codebase = []\n            for pattern in file_patterns:\n                files_to_process.extend(root_path_obj.rglob(pattern))\n            # Filter out files in common ignore directories\n            ignore_dirs = {\n                \".git\",\n                \"__pycache__\",\n                \".pytest_cache\",\n                \"node_modules\",\n                \".venv\",\n                \"venv\",\n                \"env\",\n                \"target\",\n                \"build\",\n                \"dist\",\n            }\n\n            filtered_files = []\n            for file_path in files_to_process:\n                if file_path.is_file():\n                    # Check if any parent directory is in ignore list\n                    if not any(part in ignore_dirs for part in file_path.parts):\n                        filtered_files.append(file_path)\n\n            # Group files by language\n            language_files = {}\n            for file_path in filtered_files:\n                language = self.detect_language(str(file_path))\n                if language != \"unknown\":\n                    if language not in language_files:\n                        language_files[language] = []\n                    language_files[language].append(file_path)\n\n            print(f\"Found files in languages: {list(language_files.keys())}\")\n\n            # Process files by language\n            for language, files in language_files.items():\n                print(f\"Processing {len(files)} {language} files...\")\n\n                # Initialize LSP for this language\n                lsp_client = await self.get_or_create_lsp_client(\n                    language, str(root_path_obj.absolute())\n                )\n                if not lsp_client:\n                    print(f\"Skipping {language} files due to LSP initialization failure\")\n                    continue\n\n                # Process files\n                successful = 0\n                for file_path in files:\n                    try:\n                        print(file_path)\n                        module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )\n                        if module:\n                            codebase.append(module)\n                            successful += 1\n                            print(f\"  \u2705 {file_path.name}\")\n                        else:\n                            print(f\"  \u274c {file_path.name}\")\n                    except Exception as e:\n                        print(f\"  \u274c {file_path.name}: {e}\")\n\n                print(f\"Successfully processed {successful}/{len(files)} {language} files\")\n            return codebase\n        finally:\n            # Always clean up LSP clients\n            await self.cleanup()\n"
    },
    {
      "name": "lsp_clients",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 42,
            "character": 8
          },
          "end": {
            "line": 42,
            "character": 51
          }
        }
      },
      "kind": "Field",
      "code_string": "self.lsp_clients: Dict[str, LSPClient] = {}\n"
    },
    {
      "name": "language_server_configs",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 43,
            "character": 8
          },
          "end": {
            "line": 52,
            "character": 9
          }
        }
      },
      "kind": "Field",
      "code_string": "self.language_server_configs = {\n            \"python\": [\"pylsp\"],  # python-lsp-server\n            \"javascript\": [\"typescript-language-server\", \"--stdio\"],\n            \"typescript\": [\"typescript-language-server\", \"--stdio\"],\n            \"java\": [\"jdtls\"],  # Eclipse JDT Language Server\n            \"go\": [\"gopls\"],\n            \"rust\": [\"rust-analyzer\"],\n            \"cpp\": [\"clangd\"],\n            \"c\": [\"clangd\"],\n        }"
    },
    {
      "name": "language",
      "containerName": "cleanup",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 57,
            "character": 8
          },
          "end": {
            "line": 64,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for language, client in self.lsp_clients.items():\n            try:\n                print(f\"  Stopping {language} LSP client...\")\n                await client.stop()\n                print(f\"  \u2705 Stopped {language} LSP client\")\n            except Exception as e:\n                print(f\"  \u274c Error stopping {language} client: {e}\")\n"
    },
    {
      "name": "client",
      "containerName": "cleanup",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 57,
            "character": 8
          },
          "end": {
            "line": 64,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for language, client in self.lsp_clients.items():\n            try:\n                print(f\"  Stopping {language} LSP client...\")\n                await client.stop()\n                print(f\"  \u2705 Stopped {language} LSP client\")\n            except Exception as e:\n                print(f\"  \u274c Error stopping {language} client: {e}\")\n"
    },
    {
      "name": "e",
      "containerName": "cleanup",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 58,
            "character": 12
          },
          "end": {
            "line": 64,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                print(f\"  Stopping {language} LSP client...\")\n                await client.stop()\n                print(f\"  \u2705 Stopped {language} LSP client\")\n            except Exception as e:\n                print(f\"  \u274c Error stopping {language} client: {e}\")\n"
    },
    {
      "name": "ext",
      "containerName": "detect_language",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 69,
            "character": 8
          },
          "end": {
            "line": 69,
            "character": 44
          }
        }
      },
      "kind": "Variable",
      "code_string": "ext = Path(file_path).suffix.lower()\n"
    },
    {
      "name": "language_map",
      "containerName": "detect_language",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 71,
            "character": 8
          },
          "end": {
            "line": 87,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "language_map = {\n            \".py\": \"python\",\n            \".js\": \"javascript\",\n            \".ts\": \"typescript\",\n            \".java\": \"java\",\n            \".cpp\": \"cpp\",\n            \".c\": \"c\",\n            \".cs\": \"csharp\",\n            \".go\": \"go\",\n            \".rs\": \"rust\",\n            \".rb\": \"ruby\",\n            \".php\": \"php\",\n            \".swift\": \"swift\",\n            \".kt\": \"kotlin\",\n            \".scala\": \"scala\",\n            \".hs\": \"haskell\",\n        }"
    },
    {
      "name": "command",
      "containerName": "get_or_create_lsp_client",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 103,
            "character": 12
          },
          "end": {
            "line": 103,
            "character": 63
          }
        }
      },
      "kind": "Variable",
      "code_string": "command = self.language_server_configs[language][0]\n"
    },
    {
      "name": "args",
      "containerName": "get_or_create_lsp_client",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 104,
            "character": 12
          },
          "end": {
            "line": 104,
            "character": 61
          }
        }
      },
      "kind": "Variable",
      "code_string": "args = self.language_server_configs[language][1:]\n"
    },
    {
      "name": "client",
      "containerName": "get_or_create_lsp_client",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 106,
            "character": 12
          },
          "end": {
            "line": 106,
            "character": 61
          }
        }
      },
      "kind": "Variable",
      "code_string": "client = LSPClient(command, args, workspace_path)\n"
    },
    {
      "name": "e",
      "containerName": "get_or_create_lsp_client",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 102,
            "character": 8
          },
          "end": {
            "line": 117,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            command = self.language_server_configs[language][0]\n            args = self.language_server_configs[language][1:]\n\n            client = LSPClient(command, args, workspace_path)\n            await client.start()\n            await client.initialize(workspace_path)\n\n            self.lsp_clients[language] = client\n            print(f\"\u2705 Initialized LSP client for {language}\")\n            return client\n\n        except Exception as e:\n            print(f\"\u274c Failed to initialize LSP client for {language}: {e}\")\n            return None\n"
    },
    {
      "name": "file_path",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 119,
            "character": 8
          },
          "end": {
            "line": 119,
            "character": 48
          }
        }
      },
      "kind": "Variable",
      "code_string": "file_path = d.get(\"location\").get(\"uri\")\n"
    },
    {
      "name": "start_line",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 120,
            "character": 8
          },
          "end": {
            "line": 120,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "start_line = d.get(\"location\").get(\"range\").get(\"start\").get(\"line\")\n"
    },
    {
      "name": "start_char",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 121,
            "character": 8
          },
          "end": {
            "line": 121,
            "character": 81
          }
        }
      },
      "kind": "Variable",
      "code_string": "start_char = d.get(\"location\").get(\"range\").get(\"start\").get(\"character\")\n"
    },
    {
      "name": "end_line",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 122,
            "character": 8
          },
          "end": {
            "line": 122,
            "character": 72
          }
        }
      },
      "kind": "Variable",
      "code_string": "end_line = d.get(\"location\").get(\"range\").get(\"end\").get(\"line\")\n"
    },
    {
      "name": "end_char",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 123,
            "character": 8
          },
          "end": {
            "line": 123,
            "character": 77
          }
        }
      },
      "kind": "Variable",
      "code_string": "end_char = d.get(\"location\").get(\"range\").get(\"end\").get(\"character\")\n"
    },
    {
      "name": "f",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 125,
            "character": 8
          },
          "end": {
            "line": 127,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path.replace(\"file:///\", \"/\"), \"r\") as f:\n            lines = f.readlines()\n"
    },
    {
      "name": "lines",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 126,
            "character": 12
          },
          "end": {
            "line": 126,
            "character": 33
          }
        }
      },
      "kind": "Variable",
      "code_string": "lines = f.readlines()\n"
    },
    {
      "name": "selected_lines",
      "containerName": "get_code_from_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 129,
            "character": 8
          },
          "end": {
            "line": 129,
            "character": 57
          }
        }
      },
      "kind": "Variable",
      "code_string": "selected_lines = lines[start_line : end_line + 1]\n"
    },
    {
      "name": "language",
      "containerName": "extract_module_from_file",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 141,
            "character": 12
          },
          "end": {
            "line": 141,
            "character": 54
          }
        }
      },
      "kind": "Variable",
      "code_string": "language = self.detect_language(file_path)\n"
    },
    {
      "name": "lsp_client",
      "containerName": "extract_module_from_file",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 147,
            "character": 12
          },
          "end": {
            "line": 147,
            "character": 86
          }
        }
      },
      "kind": "Variable",
      "code_string": "lsp_client = await self.get_or_create_lsp_client(language, workspace_path)\n"
    },
    {
      "name": "symbols",
      "containerName": "extract_module_from_file",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 153,
            "character": 12
          },
          "end": {
            "line": 153,
            "character": 70
          }
        }
      },
      "kind": "Variable",
      "code_string": "symbols = await lsp_client.get_document_symbols(file_path)\n"
    },
    {
      "name": "i",
      "containerName": "extract_module_from_file",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 154,
            "character": 12
          },
          "end": {
            "line": 157,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i in symbols:\n                i[\"code_string\"] = self.get_code_from_symbols(i)\n                i[\"kind\"] = SYMBOL_KIND_MAP[i.get(\"kind\")]\n"
    },
    {
      "name": "e",
      "containerName": "extract_module_from_file",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 140,
            "character": 8
          },
          "end": {
            "line": 164,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            language = self.detect_language(file_path)\n            if language == \"unknown\":\n                print(f\"Unknown language for {file_path}\")\n                return None\n\n            # Get or create LSP client\n            lsp_client = await self.get_or_create_lsp_client(language, workspace_path)\n            if not lsp_client:\n                print(f\"No LSP client available for {language}\")\n                return None\n\n            # Get document symbols\n            symbols = await lsp_client.get_document_symbols(file_path)\n            for i in symbols:\n                i[\"code_string\"] = self.get_code_from_symbols(i)\n                i[\"kind\"] = SYMBOL_KIND_MAP[i.get(\"kind\")]\n            print(json.dumps(symbols))\n\n            return symbols\n\n        except Exception as e:\n            print(f\"Error extracting from {file_path}: {e}\")\n            return None\n"
    },
    {
      "name": "file_patterns",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 168,
            "character": 12
          },
          "end": {
            "line": 178,
            "character": 13
          }
        }
      },
      "kind": "Variable",
      "code_string": "file_patterns = [\n                \"*.py\",\n                \"*.js\",\n                \"*.ts\",\n                \"*.java\",\n                \"*.cpp\",\n                \"*.c\",\n                \"*.cs\",\n                \"*.go\",\n                \"*.rs\",\n            ]"
    },
    {
      "name": "root_path_obj",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 180,
            "character": 12
          },
          "end": {
            "line": 180,
            "character": 43
          }
        }
      },
      "kind": "Variable",
      "code_string": "root_path_obj = Path(root_path)\n"
    },
    {
      "name": "files_to_process",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 181,
            "character": 12
          },
          "end": {
            "line": 181,
            "character": 33
          }
        }
      },
      "kind": "Variable",
      "code_string": "files_to_process = []\n"
    },
    {
      "name": "codebase",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 182,
            "character": 12
          },
          "end": {
            "line": 182,
            "character": 25
          }
        }
      },
      "kind": "Variable",
      "code_string": "codebase = []\n"
    },
    {
      "name": "pattern",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 183,
            "character": 12
          },
          "end": {
            "line": 185,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for pattern in file_patterns:\n                files_to_process.extend(root_path_obj.rglob(pattern))\n"
    },
    {
      "name": "ignore_dirs",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 186,
            "character": 12
          },
          "end": {
            "line": 197,
            "character": 13
          }
        }
      },
      "kind": "Variable",
      "code_string": "ignore_dirs = {\n                \".git\",\n                \"__pycache__\",\n                \".pytest_cache\",\n                \"node_modules\",\n                \".venv\",\n                \"venv\",\n                \"env\",\n                \"target\",\n                \"build\",\n                \"dist\",\n            }"
    },
    {
      "name": "filtered_files",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 199,
            "character": 12
          },
          "end": {
            "line": 199,
            "character": 31
          }
        }
      },
      "kind": "Variable",
      "code_string": "filtered_files = []\n"
    },
    {
      "name": "file_path",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 200,
            "character": 12
          },
          "end": {
            "line": 205,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for file_path in files_to_process:\n                if file_path.is_file():\n                    # Check if any parent directory is in ignore list\n                    if not any(part in ignore_dirs for part in file_path.parts):\n                        filtered_files.append(file_path)\n"
    },
    {
      "name": "part",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 203,
            "character": 51
          },
          "end": {
            "line": 203,
            "character": 78
          }
        }
      },
      "kind": "Variable",
      "code_string": "for part in file_path.parts):\n"
    },
    {
      "name": "language_files",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 207,
            "character": 12
          },
          "end": {
            "line": 207,
            "character": 31
          }
        }
      },
      "kind": "Variable",
      "code_string": "language_files = {}\n"
    },
    {
      "name": "file_path",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 208,
            "character": 12
          },
          "end": {
            "line": 214,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for file_path in filtered_files:\n                language = self.detect_language(str(file_path))\n                if language != \"unknown\":\n                    if language not in language_files:\n                        language_files[language] = []\n                    language_files[language].append(file_path)\n"
    },
    {
      "name": "language",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 209,
            "character": 16
          },
          "end": {
            "line": 209,
            "character": 63
          }
        }
      },
      "kind": "Variable",
      "code_string": "language = self.detect_language(str(file_path))\n"
    },
    {
      "name": "language",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 218,
            "character": 12
          },
          "end": {
            "line": 247,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for language, files in language_files.items():\n                print(f\"Processing {len(files)} {language} files...\")\n\n                # Initialize LSP for this language\n                lsp_client = await self.get_or_create_lsp_client(\n                    language, str(root_path_obj.absolute())\n                )\n                if not lsp_client:\n                    print(f\"Skipping {language} files due to LSP initialization failure\")\n                    continue\n\n                # Process files\n                successful = 0\n                for file_path in files:\n                    try:\n                        print(file_path)\n                        module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )\n                        if module:\n                            codebase.append(module)\n                            successful += 1\n                            print(f\"  \u2705 {file_path.name}\")\n                        else:\n                            print(f\"  \u274c {file_path.name}\")\n                    except Exception as e:\n                        print(f\"  \u274c {file_path.name}: {e}\")\n\n                print(f\"Successfully processed {successful}/{len(files)} {language} files\")\n"
    },
    {
      "name": "files",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 218,
            "character": 12
          },
          "end": {
            "line": 247,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for language, files in language_files.items():\n                print(f\"Processing {len(files)} {language} files...\")\n\n                # Initialize LSP for this language\n                lsp_client = await self.get_or_create_lsp_client(\n                    language, str(root_path_obj.absolute())\n                )\n                if not lsp_client:\n                    print(f\"Skipping {language} files due to LSP initialization failure\")\n                    continue\n\n                # Process files\n                successful = 0\n                for file_path in files:\n                    try:\n                        print(file_path)\n                        module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )\n                        if module:\n                            codebase.append(module)\n                            successful += 1\n                            print(f\"  \u2705 {file_path.name}\")\n                        else:\n                            print(f\"  \u274c {file_path.name}\")\n                    except Exception as e:\n                        print(f\"  \u274c {file_path.name}: {e}\")\n\n                print(f\"Successfully processed {successful}/{len(files)} {language} files\")\n"
    },
    {
      "name": "lsp_client",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 222,
            "character": 16
          },
          "end": {
            "line": 224,
            "character": 17
          }
        }
      },
      "kind": "Variable",
      "code_string": "lsp_client = await self.get_or_create_lsp_client(\n                    language, str(root_path_obj.absolute())\n                )"
    },
    {
      "name": "successful",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 230,
            "character": 16
          },
          "end": {
            "line": 230,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "successful = 0\n"
    },
    {
      "name": "file_path",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 231,
            "character": 16
          },
          "end": {
            "line": 245,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for file_path in files:\n                    try:\n                        print(file_path)\n                        module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )\n                        if module:\n                            codebase.append(module)\n                            successful += 1\n                            print(f\"  \u2705 {file_path.name}\")\n                        else:\n                            print(f\"  \u274c {file_path.name}\")\n                    except Exception as e:\n                        print(f\"  \u274c {file_path.name}: {e}\")\n"
    },
    {
      "name": "module",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 234,
            "character": 24
          },
          "end": {
            "line": 236,
            "character": 25
          }
        }
      },
      "kind": "Variable",
      "code_string": "module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )"
    },
    {
      "name": "successful",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 239,
            "character": 28
          },
          "end": {
            "line": 239,
            "character": 43
          }
        }
      },
      "kind": "Variable",
      "code_string": "successful += 1\n"
    },
    {
      "name": "e",
      "containerName": "extract_codebase",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 232,
            "character": 20
          },
          "end": {
            "line": 245,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                        print(file_path)\n                        module = await self.extract_module_from_file(\n                            str(file_path), str(root_path_obj.absolute())\n                        )\n                        if module:\n                            codebase.append(module)\n                            successful += 1\n                            print(f\"  \u2705 {file_path.name}\")\n                        else:\n                            print(f\"  \u274c {file_path.name}\")\n                    except Exception as e:\n                        print(f\"  \u274c {file_path.name}: {e}\")\n"
    },
    {
      "name": "extract_codebase_simple",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 253,
            "character": 6
          },
          "end": {
            "line": 268,
            "character": 0
          }
        }
      },
      "kind": "Function",
      "code_string": "def extract_codebase_simple(root_path: str, output_file: str = None):\n    \"\"\"Simple synchronous function to extract codebase\"\"\"\n    extractor = AsyncUniversalExtractor()\n    try:\n        codebase = await extractor.extract_codebase(root_path)\n        if output_file:\n            with open(output_file, \"w\", encoding=\"utf-8\") as f:\n                json.dump(codebase, f, indent=2, default=str)\n            print(f\"Codebase model saved to {output_file}\")\n        return codebase\n    except Exception as e:\n        print(f\"Error during extraction: {e}\")\n        # Ensure cleanup happens even if there's an error\n        await extractor.cleanup()\n        raise\n"
    },
    {
      "name": "extractor",
      "containerName": "extract_codebase_simple",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 255,
            "character": 4
          },
          "end": {
            "line": 255,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "extractor = AsyncUniversalExtractor()\n"
    },
    {
      "name": "codebase",
      "containerName": "extract_codebase_simple",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 257,
            "character": 8
          },
          "end": {
            "line": 257,
            "character": 62
          }
        }
      },
      "kind": "Variable",
      "code_string": "codebase = await extractor.extract_codebase(root_path)\n"
    },
    {
      "name": "f",
      "containerName": "extract_codebase_simple",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 259,
            "character": 12
          },
          "end": {
            "line": 261,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(output_file, \"w\", encoding=\"utf-8\") as f:\n                json.dump(codebase, f, indent=2, default=str)\n"
    },
    {
      "name": "e",
      "containerName": "extract_codebase_simple",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 256,
            "character": 4
          },
          "end": {
            "line": 268,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n        codebase = await extractor.extract_codebase(root_path)\n        if output_file:\n            with open(output_file, \"w\", encoding=\"utf-8\") as f:\n                json.dump(codebase, f, indent=2, default=str)\n            print(f\"Codebase model saved to {output_file}\")\n        return codebase\n    except Exception as e:\n        print(f\"Error during extraction: {e}\")\n        # Ensure cleanup happens even if there's an error\n        await extractor.cleanup()\n        raise\n"
    },
    {
      "name": "codebase",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_extractor.py",
        "range": {
          "start": {
            "line": 270,
            "character": 0
          },
          "end": {
            "line": 270,
            "character": 83
          }
        }
      },
      "kind": "Variable",
      "code_string": "codebase = (\"/Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/\",)"
    }
  ],
  [
    {
      "name": "json",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 5,
            "character": 0
          },
          "end": {
            "line": 5,
            "character": 11
          }
        }
      },
      "kind": "Module",
      "code_string": "import json"
    },
    {
      "name": "asyncio",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 6,
            "character": 0
          },
          "end": {
            "line": 6,
            "character": 14
          }
        }
      },
      "kind": "Module",
      "code_string": "import asyncio"
    },
    {
      "name": "subprocess",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 7,
            "character": 0
          },
          "end": {
            "line": 7,
            "character": 17
          }
        }
      },
      "kind": "Module",
      "code_string": "import subprocess"
    },
    {
      "name": "os",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 8,
            "character": 0
          },
          "end": {
            "line": 8,
            "character": 9
          }
        }
      },
      "kind": "Module",
      "code_string": "import os"
    },
    {
      "name": "threading",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 9,
            "character": 0
          },
          "end": {
            "line": 9,
            "character": 16
          }
        }
      },
      "kind": "Module",
      "code_string": "import threading"
    },
    {
      "name": "uuid",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 10,
            "character": 0
          },
          "end": {
            "line": 10,
            "character": 11
          }
        }
      },
      "kind": "Module",
      "code_string": "import uuid"
    },
    {
      "name": "time",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 11,
            "character": 0
          },
          "end": {
            "line": 11,
            "character": 11
          }
        }
      },
      "kind": "Module",
      "code_string": "import time"
    },
    {
      "name": "logging",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 12,
            "character": 0
          },
          "end": {
            "line": 12,
            "character": 14
          }
        }
      },
      "kind": "Module",
      "code_string": "import logging"
    },
    {
      "name": "Dict",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "List",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "Any",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "Optional",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "Callable",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "Union",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "Tuple",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 13,
            "character": 0
          },
          "end": {
            "line": 13,
            "character": 68
          }
        }
      },
      "kind": "Class",
      "code_string": "from typing import Dict, List, Any, Optional, Callable, Union, Tuple"
    },
    {
      "name": "dataclass",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 14,
            "character": 0
          },
          "end": {
            "line": 14,
            "character": 41
          }
        }
      },
      "kind": "Function",
      "code_string": "from dataclasses import dataclass, asdict"
    },
    {
      "name": "asdict",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 14,
            "character": 0
          },
          "end": {
            "line": 14,
            "character": 41
          }
        }
      },
      "kind": "Function",
      "code_string": "from dataclasses import dataclass, asdict"
    },
    {
      "name": "Enum",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 15,
            "character": 0
          },
          "end": {
            "line": 15,
            "character": 21
          }
        }
      },
      "kind": "Class",
      "code_string": "from enum import Enum"
    },
    {
      "name": "Path",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 16,
            "character": 0
          },
          "end": {
            "line": 16,
            "character": 24
          }
        }
      },
      "kind": "Class",
      "code_string": "from pathlib import Path"
    },
    {
      "name": "urllib",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 17,
            "character": 0
          },
          "end": {
            "line": 17,
            "character": 19
          }
        }
      },
      "kind": "Module",
      "code_string": "import urllib.parse"
    },
    {
      "name": "logger",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 21,
            "character": 0
          },
          "end": {
            "line": 21,
            "character": 36
          }
        }
      },
      "kind": "Variable",
      "code_string": "logger = logging.getLogger(__name__)"
    },
    {
      "name": "LSPMessageType",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 24,
            "character": 0
          },
          "end": {
            "line": 28,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class LSPMessageType(Enum):\n    REQUEST = \"request\"\n    RESPONSE = \"response\"\n    NOTIFICATION = \"notification\"\n"
    },
    {
      "name": "REQUEST",
      "containerName": "LSPMessageType",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 25,
            "character": 4
          },
          "end": {
            "line": 25,
            "character": 23
          }
        }
      },
      "kind": "Field",
      "code_string": "REQUEST = \"request\"\n"
    },
    {
      "name": "RESPONSE",
      "containerName": "LSPMessageType",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 26,
            "character": 4
          },
          "end": {
            "line": 26,
            "character": 25
          }
        }
      },
      "kind": "Field",
      "code_string": "RESPONSE = \"response\"\n"
    },
    {
      "name": "NOTIFICATION",
      "containerName": "LSPMessageType",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 27,
            "character": 4
          },
          "end": {
            "line": 27,
            "character": 33
          }
        }
      },
      "kind": "Field",
      "code_string": "NOTIFICATION = \"notification\"\n"
    },
    {
      "name": "Position",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 31,
            "character": 0
          },
          "end": {
            "line": 36,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class Position:\n    \"\"\"LSP Position structure\"\"\"\n\n    line: int  # 0-based\n    character: int  # 0-based\n"
    },
    {
      "name": "line",
      "containerName": "Position",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 34,
            "character": 4
          },
          "end": {
            "line": 34,
            "character": 13
          }
        }
      },
      "kind": "Field",
      "code_string": "line: int  # "
    },
    {
      "name": "character",
      "containerName": "Position",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 35,
            "character": 4
          },
          "end": {
            "line": 35,
            "character": 18
          }
        }
      },
      "kind": "Field",
      "code_string": "character: int  # "
    },
    {
      "name": "Range",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 39,
            "character": 0
          },
          "end": {
            "line": 44,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class Range:\n    \"\"\"LSP Range structure\"\"\"\n\n    start: Position\n    end: Position\n"
    },
    {
      "name": "start",
      "containerName": "Range",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 42,
            "character": 4
          },
          "end": {
            "line": 42,
            "character": 19
          }
        }
      },
      "kind": "Field",
      "code_string": "start: Position\n"
    },
    {
      "name": "end",
      "containerName": "Range",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 43,
            "character": 4
          },
          "end": {
            "line": 43,
            "character": 17
          }
        }
      },
      "kind": "Field",
      "code_string": "end: Position\n"
    },
    {
      "name": "Location",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 47,
            "character": 0
          },
          "end": {
            "line": 52,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class Location:\n    \"\"\"LSP Location structure\"\"\"\n\n    uri: str\n    range: Range\n"
    },
    {
      "name": "uri",
      "containerName": "Location",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 50,
            "character": 4
          },
          "end": {
            "line": 50,
            "character": 12
          }
        }
      },
      "kind": "Field",
      "code_string": "uri: str\n"
    },
    {
      "name": "range",
      "containerName": "Location",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 51,
            "character": 4
          },
          "end": {
            "line": 51,
            "character": 16
          }
        }
      },
      "kind": "Field",
      "code_string": "range: Range\n"
    },
    {
      "name": "TextEdit",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 55,
            "character": 0
          },
          "end": {
            "line": 60,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class TextEdit:\n    \"\"\"LSP TextEdit structure\"\"\"\n\n    range: Range\n    newText: str\n"
    },
    {
      "name": "range",
      "containerName": "TextEdit",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 58,
            "character": 4
          },
          "end": {
            "line": 58,
            "character": 16
          }
        }
      },
      "kind": "Field",
      "code_string": "range: Range\n"
    },
    {
      "name": "newText",
      "containerName": "TextEdit",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 59,
            "character": 4
          },
          "end": {
            "line": 59,
            "character": 16
          }
        }
      },
      "kind": "Field",
      "code_string": "newText: str\n"
    },
    {
      "name": "Diagnostic",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 63,
            "character": 0
          },
          "end": {
            "line": 71,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class Diagnostic:\n    \"\"\"LSP Diagnostic structure\"\"\"\n\n    range: Range\n    message: str\n    severity: Optional[int] = None\n    code: Optional[Union[int, str]] = None\n    source: Optional[str] = None\n"
    },
    {
      "name": "range",
      "containerName": "Diagnostic",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 66,
            "character": 4
          },
          "end": {
            "line": 66,
            "character": 16
          }
        }
      },
      "kind": "Field",
      "code_string": "range: Range\n"
    },
    {
      "name": "message",
      "containerName": "Diagnostic",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 67,
            "character": 4
          },
          "end": {
            "line": 67,
            "character": 16
          }
        }
      },
      "kind": "Field",
      "code_string": "message: str\n"
    },
    {
      "name": "severity",
      "containerName": "Diagnostic",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 68,
            "character": 4
          },
          "end": {
            "line": 68,
            "character": 34
          }
        }
      },
      "kind": "Field",
      "code_string": "severity: Optional[int] = None\n"
    },
    {
      "name": "code",
      "containerName": "Diagnostic",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 69,
            "character": 4
          },
          "end": {
            "line": 69,
            "character": 42
          }
        }
      },
      "kind": "Field",
      "code_string": "code: Optional[Union[int, str]] = None\n"
    },
    {
      "name": "source",
      "containerName": "Diagnostic",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 70,
            "character": 4
          },
          "end": {
            "line": 70,
            "character": 32
          }
        }
      },
      "kind": "Field",
      "code_string": "source: Optional[str] = None\n"
    },
    {
      "name": "LSPMessage",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 74,
            "character": 0
          },
          "end": {
            "line": 83,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class LSPMessage:\n    \"\"\"LSP Message structure\"\"\"\n\n    jsonrpc: str = \"2.0\"\n    id: Optional[Union[str, int]] = None\n    method: Optional[str] = None\n    params: Optional[Dict[str, Any]] = None\n    result: Optional[Any] = None\n    error: Optional[Dict[str, Any]] = None\n"
    },
    {
      "name": "jsonrpc",
      "containerName": "LSPMessage",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 77,
            "character": 4
          },
          "end": {
            "line": 77,
            "character": 24
          }
        }
      },
      "kind": "Field",
      "code_string": "jsonrpc: str = \"2.0\"\n"
    },
    {
      "name": "id",
      "containerName": "LSPMessage",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 78,
            "character": 4
          },
          "end": {
            "line": 78,
            "character": 40
          }
        }
      },
      "kind": "Field",
      "code_string": "id: Optional[Union[str, int]] = None\n"
    },
    {
      "name": "method",
      "containerName": "LSPMessage",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 79,
            "character": 4
          },
          "end": {
            "line": 79,
            "character": 32
          }
        }
      },
      "kind": "Field",
      "code_string": "method: Optional[str] = None\n"
    },
    {
      "name": "params",
      "containerName": "LSPMessage",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 80,
            "character": 4
          },
          "end": {
            "line": 80,
            "character": 43
          }
        }
      },
      "kind": "Field",
      "code_string": "params: Optional[Dict[str, Any]] = None\n"
    },
    {
      "name": "result",
      "containerName": "LSPMessage",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 81,
            "character": 4
          },
          "end": {
            "line": 81,
            "character": 32
          }
        }
      },
      "kind": "Field",
      "code_string": "result: Optional[Any] = None\n"
    },
    {
      "name": "error",
      "containerName": "LSPMessage",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 82,
            "character": 4
          },
          "end": {
            "line": 82,
            "character": 42
          }
        }
      },
      "kind": "Field",
      "code_string": "error: Optional[Dict[str, Any]] = None\n"
    },
    {
      "name": "LSPError",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 85,
            "character": 0
          },
          "end": {
            "line": 93,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class LSPError(Exception):\n    \"\"\"LSP specific error\"\"\"\n\n    def __init__(self, code: int, message: str, data: Any = None):\n        self.code = code\n        self.message = message\n        self.data = data\n        super().__init__(f\"LSP Error {code}: {message}\")\n"
    },
    {
      "name": "__init__",
      "containerName": "LSPError",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 88,
            "character": 4
          },
          "end": {
            "line": 93,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def __init__(self, code: int, message: str, data: Any = None):\n        self.code = code\n        self.message = message\n        self.data = data\n        super().__init__(f\"LSP Error {code}: {message}\")\n"
    },
    {
      "name": "code",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 89,
            "character": 8
          },
          "end": {
            "line": 89,
            "character": 24
          }
        }
      },
      "kind": "Field",
      "code_string": "self.code = code\n"
    },
    {
      "name": "message",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 90,
            "character": 8
          },
          "end": {
            "line": 90,
            "character": 30
          }
        }
      },
      "kind": "Field",
      "code_string": "self.message = message\n"
    },
    {
      "name": "data",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 91,
            "character": 8
          },
          "end": {
            "line": 91,
            "character": 24
          }
        }
      },
      "kind": "Field",
      "code_string": "self.data = data\n"
    },
    {
      "name": "LSPClient",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 95,
            "character": 0
          },
          "end": {
            "line": 1040,
            "character": 0
          }
        }
      },
      "kind": "Class",
      "code_string": "class LSPClient:\n    \"\"\"\n    Language Server Protocol Client implementation\n    \"\"\"\n\n    def __init__(self, command: str, args: List[str] = None, cwd: str = None):\n        self.command = command\n        self.args = args or []\n        self.cwd = cwd or os.getcwd()\n\n        # Process management\n        self.process: Optional[subprocess.Popen] = None\n        self.running = False\n\n        # Message handling\n        self.request_id = 0\n        self.pending_requests: Dict[Union[str, int], asyncio.Future] = {}\n        self.notification_handlers: Dict[str, Callable] = {}\n        self.request_handlers: Dict[str, Callable] = {}\n\n        # State management\n        self.initialized = False\n        self.server_capabilities: Dict[str, Any] = {}\n        self.open_files: Dict[str, Dict[str, Any]] = {}\n        self.diagnostics: Dict[str, List[Diagnostic]] = {}\n\n        # Async management\n        self.read_task: Optional[asyncio.Task] = None\n        self.lock = asyncio.Lock()\n\n    def path_to_uri(self, path: str) -> str:\n        \"\"\"Convert file path to URI\"\"\"\n        abs_path = os.path.abspath(path)\n        return f\"file://{urllib.parse.quote(abs_path)}\"\n\n    def uri_to_path(self, uri: str) -> str:\n        \"\"\"Convert URI to file path\"\"\"\n        if uri.startswith(\"file://\"):\n            return urllib.parse.unquote(uri[7:])\n        return uri\n\n    def detect_language_id(self, file_path: str) -> str:\n        \"\"\"Detect language ID from file extension\"\"\"\n        ext = Path(file_path).suffix.lower()\n        language_map = {\n            \".py\": \"python\",\n            \".js\": \"javascript\",\n            \".ts\": \"typescript\",\n            \".go\": \"go\",\n            \".rs\": \"rust\",\n            \".java\": \"java\",\n            \".c\": \"c\",\n            \".cpp\": \"cpp\",\n            \".cc\": \"cpp\",\n            \".cxx\": \"cpp\",\n            \".h\": \"c\",\n            \".hpp\": \"cpp\",\n            \".cs\": \"csharp\",\n            \".rb\": \"ruby\",\n            \".php\": \"php\",\n            \".swift\": \"swift\",\n            \".kt\": \"kotlin\",\n            \".scala\": \"scala\",\n            \".clj\": \"clojure\",\n            \".dart\": \"dart\",\n            \".lua\": \"lua\",\n            \".sh\": \"shellscript\",\n            \".bash\": \"shellscript\",\n            \".zsh\": \"shellscript\",\n            \".fish\": \"shellscript\",\n            \".ps1\": \"powershell\",\n            \".sql\": \"sql\",\n            \".html\": \"html\",\n            \".htm\": \"html\",\n            \".css\": \"css\",\n            \".scss\": \"scss\",\n            \".sass\": \"sass\",\n            \".less\": \"less\",\n            \".xml\": \"xml\",\n            \".json\": \"json\",\n            \".yaml\": \"yaml\",\n            \".yml\": \"yaml\",\n            \".toml\": \"toml\",\n            \".md\": \"markdown\",\n            \".tex\": \"latex\",\n            \".r\": \"r\",\n            \".R\": \"r\",\n        }\n        return language_map.get(ext, \"plaintext\")\n\n    async def start(self) -> None:\n        \"\"\"Start the LSP server process\"\"\"\n        if self.running:\n            return\n\n        try:\n            # Start the language server process\n            cmd = [self.command] + self.args\n            self.process = subprocess.Popen(\n                cmd,\n                stdin=subprocess.PIPE,\n                stdout=subprocess.PIPE,\n                stderr=subprocess.PIPE,\n                cwd=self.cwd,\n                text=False,\n                bufsize=0,\n            )\n\n            self.running = True\n            logger.info(f\"Started LSP server: {' '.join(cmd)}\")\n\n            # Start reading messages\n            self.read_task = asyncio.create_task(self._read_messages())\n\n            # Start stderr monitoring\n            asyncio.create_task(self._monitor_stderr())\n\n        except Exception as e:\n            logger.error(f\"Failed to start LSP server: {e}\")\n            raise\n\n    async def _monitor_stderr(self) -> None:\n        \"\"\"Monitor stderr output from the language server\"\"\"\n        if not self.process or not self.process.stderr:\n            return\n\n        loop = asyncio.get_event_loop()\n        while self.running:\n            try:\n                line = await loop.run_in_executor(None, self.process.stderr.readline)\n                if line:\n                    decoded_line = line.decode(\"utf-8\", errors=\"ignore\").strip()\n                    if decoded_line:\n                        logger.info(f\"LSP stderr: {decoded_line}\")\n                else:\n                    break\n            except Exception as e:\n                logger.error(f\"Error reading stderr: {e}\")\n                break\n\n    async def _read_messages(self) -> None:\n        \"\"\"Read messages from the LSP server\"\"\"\n        buffer = b\"\"\n\n        while self.running and self.process and self.process.stdout:\n            try:\n                # Read data\n                data = await asyncio.get_event_loop().run_in_executor(\n                    None, self.process.stdout.read, 4096\n                )\n\n                if not data:\n                    break\n\n                buffer += data\n\n                # Process complete messages\n                while b\"\\r\\n\\r\\n\" in buffer:\n                    header_end = buffer.find(b\"\\r\\n\\r\\n\")\n                    header = buffer[:header_end].decode(\"utf-8\")\n\n                    # Parse content length\n                    content_length = None\n                    for line in header.split(\"\\r\\n\"):\n                        if line.startswith(\"Content-Length:\"):\n                            content_length = int(line.split(\":\")[1].strip())\n                            break\n\n                    if content_length is None:\n                        logger.error(\"No Content-Length header found\")\n                        buffer = buffer[header_end + 4 :]\n                        continue\n\n                    # Check if we have the complete message\n                    message_start = header_end + 4\n                    if len(buffer) < message_start + content_length:\n                        break\n\n                    # Extract and process message\n                    message_data = buffer[\n                        message_start : message_start + content_length\n                    ]\n                    buffer = buffer[message_start + content_length :]\n\n                    try:\n                        message_str = message_data.decode(\"utf-8\")\n                        message = json.loads(message_str)\n                        await self._handle_message(message)\n                    except Exception as e:\n                        logger.error(f\"Error processing message: {e}\")\n\n            except Exception as e:\n                logger.error(f\"Error reading from LSP server: {e}\")\n                break\n\n    async def _handle_message(self, message: Dict[str, Any]) -> None:\n        \"\"\"Handle incoming LSP message\"\"\"\n        try:\n            if \"id\" in message and \"method\" not in message:\n                # Response\n                msg_id = message[\"id\"]\n                if msg_id in self.pending_requests:\n                    future = self.pending_requests.pop(msg_id)\n                    if \"error\" in message:\n                        error = message[\"error\"]\n                        future.set_exception(\n                            LSPError(\n                                error.get(\"code\", -1),\n                                error.get(\"message\", \"Unknown error\"),\n                                error.get(\"data\"),\n                            )\n                        )\n                    else:\n                        future.set_result(message.get(\"result\"))\n\n            elif \"method\" in message:\n                method = message[\"method\"]\n                params = message.get(\"params\", {})\n\n                if \"id\" in message:\n                    # Server request\n                    if method in self.request_handlers:\n                        try:\n                            result = await self.request_handlers[method](params)\n                            await self._send_response(message[\"id\"], result)\n                        except Exception as e:\n                            await self._send_error(message[\"id\"], -32603, str(e))\n                    else:\n                        await self._send_error(\n                            message[\"id\"], -32601, f\"Method not found: {method}\"\n                        )\n                else:\n                    # Notification\n                    if method in self.notification_handlers:\n                        try:\n                            await self.notification_handlers[method](params)\n                        except Exception as e:\n                            logger.error(f\"Error handling notification {method}: {e}\")\n\n                    # Handle built-in notifications\n                    await self._handle_builtin_notification(method, params)\n\n        except Exception as e:\n            logger.error(f\"Error handling message: {e}\")\n\n    async def _handle_builtin_notification(\n        self, method: str, params: Dict[str, Any]\n    ) -> None:\n        \"\"\"Handle built-in LSP notifications\"\"\"\n        if method == \"textDocument/publishDiagnostics\":\n            uri = params.get(\"uri\", \"\")\n            diagnostics_data = params.get(\"diagnostics\", [])\n\n            # Convert to Diagnostic objects\n            diagnostics = []\n            for diag_data in diagnostics_data:\n                range_data = diag_data[\"range\"]\n                diag = Diagnostic(\n                    range=Range(\n                        start=Position(\n                            line=range_data[\"start\"][\"line\"],\n                            character=range_data[\"start\"][\"character\"],\n                        ),\n                        end=Position(\n                            line=range_data[\"end\"][\"line\"],\n                            character=range_data[\"end\"][\"character\"],\n                        ),\n                    ),\n                    message=diag_data[\"message\"],\n                    severity=diag_data.get(\"severity\"),\n                    code=diag_data.get(\"code\"),\n                    source=diag_data.get(\"source\"),\n                )\n                diagnostics.append(diag)\n\n            self.diagnostics[uri] = diagnostics\n            logger.debug(\n                f\"Updated diagnostics for {uri}: {len(diagnostics)} diagnostics\"\n            )\n\n    async def _send_message(self, message: Dict[str, Any]) -> None:\n        \"\"\"Send message to LSP server\"\"\"\n        if not self.process or not self.process.stdin:\n            raise RuntimeError(\"LSP server not running\")\n\n        message_str = json.dumps(message, separators=(\",\", \":\"))\n        message_bytes = message_str.encode(\"utf-8\")\n\n        header = f\"Content-Length: {len(message_bytes)}\\r\\n\\r\\n\"\n        header_bytes = header.encode(\"utf-8\")\n\n        try:\n            self.process.stdin.write(header_bytes + message_bytes)\n            self.process.stdin.flush()\n        except Exception as e:\n            logger.error(f\"Error sending message: {e}\")\n            raise\n\n    async def _send_request(self, method: str, params: Any = None) -> Any:\n        \"\"\"Send request and wait for response\"\"\"\n        async with self.lock:\n            self.request_id += 1\n            request_id = self.request_id\n\n        message = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": request_id,\n            \"method\": method,\n            \"params\": params or {},\n        }\n\n        future = asyncio.Future()\n        self.pending_requests[request_id] = future\n\n        await self._send_message(message)\n\n        try:\n            result = await asyncio.wait_for(future, timeout=30.0)\n            return result\n        except asyncio.TimeoutError:\n            self.pending_requests.pop(request_id, None)\n            raise LSPError(-32000, f\"Request timeout: {method}\")\n\n    async def _send_notification(self, method: str, params: Any = None) -> None:\n        \"\"\"Send notification\"\"\"\n        message = {\"jsonrpc\": \"2.0\", \"method\": method, \"params\": params or {}}\n        await self._send_message(message)\n\n    async def _send_response(self, request_id: Union[str, int], result: Any) -> None:\n        \"\"\"Send response to server request\"\"\"\n        message = {\"jsonrpc\": \"2.0\", \"id\": request_id, \"result\": result}\n        await self._send_message(message)\n\n    async def _send_error(\n        self, request_id: Union[str, int], code: int, message: str, data: Any = None\n    ) -> None:\n        \"\"\"Send error response to server request\"\"\"\n        error_msg = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": request_id,\n            \"error\": {\"code\": code, \"message\": message},\n        }\n        if data is not None:\n            error_msg[\"error\"][\"data\"] = data\n        await self._send_message(error_msg)\n\n    # LSP Lifecycle Methods\n\n    async def initialize(self, workspace_path: str) -> Dict[str, Any]:\n        \"\"\"Initialize the LSP server\"\"\"\n        params = {\n            \"processId\": os.getpid(),\n            \"clientInfo\": {\"name\": \"python-lsp-client\", \"version\": \"1.0.0\"},\n            \"rootPath\": workspace_path,\n            \"rootUri\": self.path_to_uri(workspace_path),\n            \"capabilities\": {\n                \"workspace\": {\n                    \"configuration\": True,\n                    \"didChangeConfiguration\": {\"dynamicRegistration\": True},\n                    \"didChangeWatchedFiles\": {\n                        \"dynamicRegistration\": True,\n                        \"relativePatternSupport\": True,\n                    },\n                },\n                \"textDocument\": {\n                    \"synchronization\": {\"dynamicRegistration\": True, \"didSave\": True},\n                    \"completion\": {\"completionItem\": {}},\n                    \"hover\": {\n                        \"dynamicRegistration\": True,\n                        \"contentFormat\": [\"markdown\", \"plaintext\"],\n                    },\n                    \"signatureHelp\": {\"dynamicRegistration\": True},\n                    \"definition\": {\"dynamicRegistration\": True, \"linkSupport\": True},\n                    \"references\": {\"dynamicRegistration\": True},\n                    \"documentHighlight\": {\"dynamicRegistration\": True},\n                    \"documentSymbol\": {\n                        \"dynamicRegistration\": True,\n                        \"hierarchicalDocumentSymbolSupport\": True,\n                    },\n                    \"formatting\": {\"dynamicRegistration\": True},\n                    \"rangeFormatting\": {\"dynamicRegistration\": True},\n                    \"onTypeFormatting\": {\"dynamicRegistration\": True},\n                    \"rename\": {\"dynamicRegistration\": True, \"prepareSupport\": True},\n                    \"codeAction\": {\n                        \"dynamicRegistration\": True,\n                        \"codeActionLiteralSupport\": {\n                            \"codeActionKind\": {\"valueSet\": []}\n                        },\n                    },\n                    \"codeLens\": {\"dynamicRegistration\": True},\n                    \"documentLink\": {\"dynamicRegistration\": True},\n                    \"publishDiagnostics\": {\"versionSupport\": True},\n                },\n                \"window\": {},\n            },\n            \"initializationOptions\": {},\n            \"workspaceFolders\": [\n                {\n                    \"uri\": self.path_to_uri(workspace_path),\n                    \"name\": os.path.basename(workspace_path),\n                }\n            ],\n        }\n\n        result = await self._send_request(\"initialize\", params)\n        self.server_capabilities = result.get(\"capabilities\", {})\n        self.initialized = True\n\n        # Send initialized notification\n        await self._send_notification(\"initialized\", {})\n\n        logger.info(\"LSP server initialized successfully\")\n        return result\n\n    async def shutdown(self) -> None:\n        \"\"\"Shutdown the LSP server\"\"\"\n        if self.initialized:\n            await self._send_request(\"shutdown\")\n            await self._send_notification(\"exit\")\n            self.initialized = False\n\n    async def stop(self) -> None:\n        \"\"\"Stop the LSP client and server\"\"\"\n        if not self.running:\n            return\n\n        self.running = False\n\n        try:\n            if self.initialized:\n                await self.shutdown()\n        except Exception as e:\n            logger.error(f\"Error during shutdown: {e}\")\n\n        if self.read_task:\n            self.read_task.cancel()\n            try:\n                await self.read_task\n            except asyncio.CancelledError:\n                pass\n\n        if self.process:\n            try:\n                self.process.terminate()\n                self.process.wait(timeout=5)\n            except subprocess.TimeoutExpired:\n                self.process.kill()\n                self.process.wait()\n            except Exception as e:\n                logger.error(f\"Error stopping process: {e}\")\n\n        logger.info(\"LSP client stopped\")\n\n    # File Operations\n\n    async def did_open(self, file_path: str) -> None:\n        \"\"\"Notify server that a file is opened\"\"\"\n        if not os.path.exists(file_path):\n            raise FileNotFoundError(f\"File not found: {file_path}\")\n\n        with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            content = f.read()\n\n        uri = self.path_to_uri(file_path)\n\n        params = {\n            \"textDocument\": {\n                \"uri\": uri,\n                \"languageId\": self.detect_language_id(file_path),\n                \"version\": 1,\n                \"text\": content,\n            }\n        }\n\n        self.open_files[uri] = {\n            \"version\": 1,\n            \"languageId\": self.detect_language_id(file_path),\n            \"path\": file_path,\n        }\n\n        await self._send_notification(\"textDocument/didOpen\", params)\n        logger.debug(f\"Opened file: {file_path}\")\n\n    async def did_change(self, file_path: str, content: str = None) -> None:\n        \"\"\"Notify server that a file has changed\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n            return\n\n        if content is None:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                content = f.read()\n\n        version = self.open_files[uri][\"version\"] + 1\n        self.open_files[uri][\"version\"] = version\n\n        params = {\n            \"textDocument\": {\"uri\": uri, \"version\": version},\n            \"contentChanges\": [{\"text\": content}],\n        }\n\n        await self._send_notification(\"textDocument/didChange\", params)\n\n    async def did_save(self, file_path: str) -> None:\n        \"\"\"Notify server that a file has been saved\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        await self._send_notification(\"textDocument/didSave\", params)\n\n    async def did_close(self, file_path: str) -> None:\n        \"\"\"Notify server that a file is closed\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            return\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        del self.open_files[uri]\n        await self._send_notification(\"textDocument/didClose\", params)\n        logger.debug(f\"Closed file: {file_path}\")\n\n    # Language Server Features\n\n    async def get_hover(\n        self, file_path: str, line: int, character: int\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Get hover information at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/hover\", params)\n        return result\n\n    async def get_definition(\n        self, file_path: str, line: int, character: int\n    ) -> List[Location]:\n        \"\"\"Get definition at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/definition\", params)\n\n        if not result:\n            return []\n\n        # Handle both single location and array of locations\n        locations = result if isinstance(result, list) else [result]\n\n        return [\n            Location(\n                uri=loc[\"uri\"],\n                range=Range(\n                    start=Position(\n                        line=loc[\"range\"][\"start\"][\"line\"],\n                        character=loc[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=loc[\"range\"][\"end\"][\"line\"],\n                        character=loc[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n            )\n            for loc in locations\n        ]\n\n    async def get_references(\n        self,\n        file_path: str,\n        line: int,\n        character: int,\n        include_declaration: bool = True,\n    ) -> List[Location]:\n        \"\"\"Get references at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n            \"context\": {\"includeDeclaration\": include_declaration},\n        }\n\n        result = await self._send_request(\"textDocument/references\", params)\n\n        if not result:\n            return []\n\n        return [\n            Location(\n                uri=loc[\"uri\"],\n                range=Range(\n                    start=Position(\n                        line=loc[\"range\"][\"start\"][\"line\"],\n                        character=loc[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=loc[\"range\"][\"end\"][\"line\"],\n                        character=loc[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n            )\n            for loc in result\n        ]\n\n    async def get_completion(\n        self, file_path: str, line: int, character: int\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Get completion suggestions at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/completion\", params)\n        return result\n\n    async def get_signature_help(\n        self, file_path: str, line: int, character: int\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Get signature help at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/signatureHelp\", params)\n        return result\n\n    async def get_document_symbols(self, file_path: str) -> List[Dict[str, Any]]:\n        \"\"\"Get document symbols\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        result = await self._send_request(\"textDocument/documentSymbol\", params)\n        print(result)\n        return result or []\n\n    async def get_workspace_symbols(self, query: str = \"\") -> List[Dict[str, Any]]:\n        \"\"\"Get workspace symbols\"\"\"\n        params = {\"query\": query}\n\n        result = await self._send_request(\"workspace/symbol\", params)\n        return result or []\n\n    async def format_document(self, file_path: str) -> List[TextEdit]:\n        \"\"\"Format entire document\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"options\": {\"tabSize\": 4, \"insertSpaces\": True},\n        }\n\n        result = await self._send_request(\"textDocument/formatting\", params)\n\n        if not result:\n            return []\n\n        return [\n            TextEdit(\n                range=Range(\n                    start=Position(\n                        line=edit[\"range\"][\"start\"][\"line\"],\n                        character=edit[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=edit[\"range\"][\"end\"][\"line\"],\n                        character=edit[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n                newText=edit[\"newText\"],\n            )\n            for edit in result\n        ]\n\n    async def format_range(\n        self,\n        file_path: str,\n        start_line: int,\n        start_char: int,\n        end_line: int,\n        end_char: int,\n    ) -> List[TextEdit]:\n        \"\"\"Format document range\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"range\": {\n                \"start\": {\"line\": start_line, \"character\": start_char},\n                \"end\": {\"line\": end_line, \"character\": end_char},\n            },\n            \"options\": {\"tabSize\": 4, \"insertSpaces\": True},\n        }\n\n        result = await self._send_request(\"textDocument/rangeFormatting\", params)\n\n        if not result:\n            return []\n\n        return [\n            TextEdit(\n                range=Range(\n                    start=Position(\n                        line=edit[\"range\"][\"start\"][\"line\"],\n                        character=edit[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=edit[\"range\"][\"end\"][\"line\"],\n                        character=edit[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n                newText=edit[\"newText\"],\n            )\n            for edit in result\n        ]\n\n    async def rename_symbol(\n        self, file_path: str, line: int, character: int, new_name: str\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Rename symbol at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n            \"newName\": new_name,\n        }\n\n        result = await self._send_request(\"textDocument/rename\", params)\n        return result\n\n    async def get_code_actions(\n        self,\n        file_path: str,\n        start_line: int,\n        start_char: int,\n        end_line: int,\n        end_char: int,\n        diagnostics: List[Diagnostic] = None,\n    ) -> List[Dict[str, Any]]:\n        \"\"\"Get code actions for range\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        diag_data = []\n        if diagnostics:\n            for diag in diagnostics:\n                diag_data.append(\n                    {\n                        \"range\": {\n                            \"start\": {\n                                \"line\": diag.range.start.line,\n                                \"character\": diag.range.start.character,\n                            },\n                            \"end\": {\n                                \"line\": diag.range.end.line,\n                                \"character\": diag.range.end.character,\n                            },\n                        },\n                        \"message\": diag.message,\n                        \"severity\": diag.severity,\n                        \"code\": diag.code,\n                        \"source\": diag.source,\n                    }\n                )\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"range\": {\n                \"start\": {\"line\": start_line, \"character\": start_char},\n                \"end\": {\"line\": end_line, \"character\": end_char},\n            },\n            \"context\": {\"diagnostics\": diag_data},\n        }\n\n        result = await self._send_request(\"textDocument/codeAction\", params)\n        return result or []\n\n    async def get_code_lens(self, file_path: str) -> List[Dict[str, Any]]:\n        \"\"\"Get code lens for document\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        result = await self._send_request(\"textDocument/codeLens\", params)\n        return result or []\n\n    async def execute_command(self, command: str, arguments: List[Any] = None) -> Any:\n        \"\"\"Execute workspace command\"\"\"\n        params = {\"command\": command, \"arguments\": arguments or []}\n\n        result = await self._send_request(\"workspace/executeCommand\", params)\n        return result\n\n    # Utility methods for high-level operations\n\n    async def get_diagnostics(self, file_path: str) -> List[Diagnostic]:\n        \"\"\"Get cached diagnostics for a file\"\"\"\n        uri = self.path_to_uri(file_path)\n        return self.diagnostics.get(uri, [])\n\n    async def find_symbol_definition(\n        self, symbol_name: str, file_path: str = None\n    ) -> Optional[Location]:\n        \"\"\"Find the definition of a symbol by name\"\"\"\n        # First try workspace symbols\n        symbols = await self.get_workspace_symbols(symbol_name)\n\n        for symbol in symbols:\n            if symbol.get(\"name\") == symbol_name:\n                location_data = symbol.get(\"location\")\n                if location_data:\n                    return Location(\n                        uri=location_data[\"uri\"],\n                        range=Range(\n                            start=Position(\n                                line=location_data[\"range\"][\"start\"][\"line\"],\n                                character=location_data[\"range\"][\"start\"][\"character\"],\n                            ),\n                            end=Position(\n                                line=location_data[\"range\"][\"end\"][\"line\"],\n                                character=location_data[\"range\"][\"end\"][\"character\"],\n                            ),\n                        ),\n                    )\n\n        return None\n\n    async def apply_text_edits(self, edits: List[Tuple[str, List[TextEdit]]]) -> None:\n        \"\"\"Apply text edits to multiple files\"\"\"\n        for file_path, file_edits in edits:\n            # Read current file content\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            # Sort edits by position (reverse order to avoid offset issues)\n            sorted_edits = sorted(\n                file_edits,\n                key=lambda e: (e.range.start.line, e.range.start.character),\n                reverse=True,\n            )\n\n            # Apply edits\n            for edit in sorted_edits:\n                start_line = edit.range.start.line\n                start_char = edit.range.start.character\n                end_line = edit.range.end.line\n                end_char = edit.range.end.character\n\n                if start_line == end_line:\n                    # Single line edit\n                    line = lines[start_line]\n                    lines[start_line] = (\n                        line[:start_char] + edit.newText + line[end_char:]\n                    )\n                else:\n                    # Multi-line edit\n                    start_line_content = lines[start_line][:start_char]\n                    end_line_content = lines[end_line][end_char:]\n\n                    # Replace the range with new text\n                    new_content = start_line_content + edit.newText + end_line_content\n\n                    # Remove old lines and insert new content\n                    del lines[start_line : end_line + 1]\n                    if new_content:\n                        lines.insert(start_line, new_content)\n\n            # Write back to file\n            with open(file_path, \"w\", encoding=\"utf-8\") as f:\n                f.writelines(lines)\n\n            # Notify server of change\n            await self.did_change(file_path)\n\n    def register_notification_handler(\n        self, method: str, handler: Callable[[Dict[str, Any]], None]\n    ) -> None:\n        \"\"\"Register custom notification handler\"\"\"\n        self.notification_handlers[method] = handler\n\n    def register_request_handler(\n        self, method: str, handler: Callable[[Dict[str, Any]], Any]\n    ) -> None:\n        \"\"\"Register custom request handler\"\"\"\n        self.request_handlers[method] = handler\n\n    async def __aenter__(self):\n        \"\"\"Async context manager entry\"\"\"\n        await self.start()\n        return self\n\n    async def __aexit__(self, exc_type, exc_val, exc_tb):\n        \"\"\"Async context manager exit\"\"\"\n        await self.stop()\n"
    },
    {
      "name": "__init__",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 100,
            "character": 4
          },
          "end": {
            "line": 124,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def __init__(self, command: str, args: List[str] = None, cwd: str = None):\n        self.command = command\n        self.args = args or []\n        self.cwd = cwd or os.getcwd()\n\n        # Process management\n        self.process: Optional[subprocess.Popen] = None\n        self.running = False\n\n        # Message handling\n        self.request_id = 0\n        self.pending_requests: Dict[Union[str, int], asyncio.Future] = {}\n        self.notification_handlers: Dict[str, Callable] = {}\n        self.request_handlers: Dict[str, Callable] = {}\n\n        # State management\n        self.initialized = False\n        self.server_capabilities: Dict[str, Any] = {}\n        self.open_files: Dict[str, Dict[str, Any]] = {}\n        self.diagnostics: Dict[str, List[Diagnostic]] = {}\n\n        # Async management\n        self.read_task: Optional[asyncio.Task] = None\n        self.lock = asyncio.Lock()\n"
    },
    {
      "name": "path_to_uri",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 125,
            "character": 4
          },
          "end": {
            "line": 129,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def path_to_uri(self, path: str) -> str:\n        \"\"\"Convert file path to URI\"\"\"\n        abs_path = os.path.abspath(path)\n        return f\"file://{urllib.parse.quote(abs_path)}\"\n"
    },
    {
      "name": "uri_to_path",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 130,
            "character": 4
          },
          "end": {
            "line": 135,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def uri_to_path(self, uri: str) -> str:\n        \"\"\"Convert URI to file path\"\"\"\n        if uri.startswith(\"file://\"):\n            return urllib.parse.unquote(uri[7:])\n        return uri\n"
    },
    {
      "name": "detect_language_id",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 136,
            "character": 4
          },
          "end": {
            "line": 184,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def detect_language_id(self, file_path: str) -> str:\n        \"\"\"Detect language ID from file extension\"\"\"\n        ext = Path(file_path).suffix.lower()\n        language_map = {\n            \".py\": \"python\",\n            \".js\": \"javascript\",\n            \".ts\": \"typescript\",\n            \".go\": \"go\",\n            \".rs\": \"rust\",\n            \".java\": \"java\",\n            \".c\": \"c\",\n            \".cpp\": \"cpp\",\n            \".cc\": \"cpp\",\n            \".cxx\": \"cpp\",\n            \".h\": \"c\",\n            \".hpp\": \"cpp\",\n            \".cs\": \"csharp\",\n            \".rb\": \"ruby\",\n            \".php\": \"php\",\n            \".swift\": \"swift\",\n            \".kt\": \"kotlin\",\n            \".scala\": \"scala\",\n            \".clj\": \"clojure\",\n            \".dart\": \"dart\",\n            \".lua\": \"lua\",\n            \".sh\": \"shellscript\",\n            \".bash\": \"shellscript\",\n            \".zsh\": \"shellscript\",\n            \".fish\": \"shellscript\",\n            \".ps1\": \"powershell\",\n            \".sql\": \"sql\",\n            \".html\": \"html\",\n            \".htm\": \"html\",\n            \".css\": \"css\",\n            \".scss\": \"scss\",\n            \".sass\": \"sass\",\n            \".less\": \"less\",\n            \".xml\": \"xml\",\n            \".json\": \"json\",\n            \".yaml\": \"yaml\",\n            \".yml\": \"yaml\",\n            \".toml\": \"toml\",\n            \".md\": \"markdown\",\n            \".tex\": \"latex\",\n            \".r\": \"r\",\n            \".R\": \"r\",\n        }\n        return language_map.get(ext, \"plaintext\")\n"
    },
    {
      "name": "start",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 185,
            "character": 10
          },
          "end": {
            "line": 215,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def start(self) -> None:\n        \"\"\"Start the LSP server process\"\"\"\n        if self.running:\n            return\n\n        try:\n            # Start the language server process\n            cmd = [self.command] + self.args\n            self.process = subprocess.Popen(\n                cmd,\n                stdin=subprocess.PIPE,\n                stdout=subprocess.PIPE,\n                stderr=subprocess.PIPE,\n                cwd=self.cwd,\n                text=False,\n                bufsize=0,\n            )\n\n            self.running = True\n            logger.info(f\"Started LSP server: {' '.join(cmd)}\")\n\n            # Start reading messages\n            self.read_task = asyncio.create_task(self._read_messages())\n\n            # Start stderr monitoring\n            asyncio.create_task(self._monitor_stderr())\n\n        except Exception as e:\n            logger.error(f\"Failed to start LSP server: {e}\")\n            raise\n"
    },
    {
      "name": "_monitor_stderr",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 216,
            "character": 10
          },
          "end": {
            "line": 234,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _monitor_stderr(self) -> None:\n        \"\"\"Monitor stderr output from the language server\"\"\"\n        if not self.process or not self.process.stderr:\n            return\n\n        loop = asyncio.get_event_loop()\n        while self.running:\n            try:\n                line = await loop.run_in_executor(None, self.process.stderr.readline)\n                if line:\n                    decoded_line = line.decode(\"utf-8\", errors=\"ignore\").strip()\n                    if decoded_line:\n                        logger.info(f\"LSP stderr: {decoded_line}\")\n                else:\n                    break\n            except Exception as e:\n                logger.error(f\"Error reading stderr: {e}\")\n                break\n"
    },
    {
      "name": "_read_messages",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 235,
            "character": 10
          },
          "end": {
            "line": 289,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _read_messages(self) -> None:\n        \"\"\"Read messages from the LSP server\"\"\"\n        buffer = b\"\"\n\n        while self.running and self.process and self.process.stdout:\n            try:\n                # Read data\n                data = await asyncio.get_event_loop().run_in_executor(\n                    None, self.process.stdout.read, 4096\n                )\n\n                if not data:\n                    break\n\n                buffer += data\n\n                # Process complete messages\n                while b\"\\r\\n\\r\\n\" in buffer:\n                    header_end = buffer.find(b\"\\r\\n\\r\\n\")\n                    header = buffer[:header_end].decode(\"utf-8\")\n\n                    # Parse content length\n                    content_length = None\n                    for line in header.split(\"\\r\\n\"):\n                        if line.startswith(\"Content-Length:\"):\n                            content_length = int(line.split(\":\")[1].strip())\n                            break\n\n                    if content_length is None:\n                        logger.error(\"No Content-Length header found\")\n                        buffer = buffer[header_end + 4 :]\n                        continue\n\n                    # Check if we have the complete message\n                    message_start = header_end + 4\n                    if len(buffer) < message_start + content_length:\n                        break\n\n                    # Extract and process message\n                    message_data = buffer[\n                        message_start : message_start + content_length\n                    ]\n                    buffer = buffer[message_start + content_length :]\n\n                    try:\n                        message_str = message_data.decode(\"utf-8\")\n                        message = json.loads(message_str)\n                        await self._handle_message(message)\n                    except Exception as e:\n                        logger.error(f\"Error processing message: {e}\")\n\n            except Exception as e:\n                logger.error(f\"Error reading from LSP server: {e}\")\n                break\n"
    },
    {
      "name": "_handle_message",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 290,
            "character": 10
          },
          "end": {
            "line": 339,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _handle_message(self, message: Dict[str, Any]) -> None:\n        \"\"\"Handle incoming LSP message\"\"\"\n        try:\n            if \"id\" in message and \"method\" not in message:\n                # Response\n                msg_id = message[\"id\"]\n                if msg_id in self.pending_requests:\n                    future = self.pending_requests.pop(msg_id)\n                    if \"error\" in message:\n                        error = message[\"error\"]\n                        future.set_exception(\n                            LSPError(\n                                error.get(\"code\", -1),\n                                error.get(\"message\", \"Unknown error\"),\n                                error.get(\"data\"),\n                            )\n                        )\n                    else:\n                        future.set_result(message.get(\"result\"))\n\n            elif \"method\" in message:\n                method = message[\"method\"]\n                params = message.get(\"params\", {})\n\n                if \"id\" in message:\n                    # Server request\n                    if method in self.request_handlers:\n                        try:\n                            result = await self.request_handlers[method](params)\n                            await self._send_response(message[\"id\"], result)\n                        except Exception as e:\n                            await self._send_error(message[\"id\"], -32603, str(e))\n                    else:\n                        await self._send_error(\n                            message[\"id\"], -32601, f\"Method not found: {method}\"\n                        )\n                else:\n                    # Notification\n                    if method in self.notification_handlers:\n                        try:\n                            await self.notification_handlers[method](params)\n                        except Exception as e:\n                            logger.error(f\"Error handling notification {method}: {e}\")\n\n                    # Handle built-in notifications\n                    await self._handle_builtin_notification(method, params)\n\n        except Exception as e:\n            logger.error(f\"Error handling message: {e}\")\n"
    },
    {
      "name": "_handle_builtin_notification",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 340,
            "character": 10
          },
          "end": {
            "line": 374,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _handle_builtin_notification(\n        self, method: str, params: Dict[str, Any]\n    ) -> None:\n        \"\"\"Handle built-in LSP notifications\"\"\"\n        if method == \"textDocument/publishDiagnostics\":\n            uri = params.get(\"uri\", \"\")\n            diagnostics_data = params.get(\"diagnostics\", [])\n\n            # Convert to Diagnostic objects\n            diagnostics = []\n            for diag_data in diagnostics_data:\n                range_data = diag_data[\"range\"]\n                diag = Diagnostic(\n                    range=Range(\n                        start=Position(\n                            line=range_data[\"start\"][\"line\"],\n                            character=range_data[\"start\"][\"character\"],\n                        ),\n                        end=Position(\n                            line=range_data[\"end\"][\"line\"],\n                            character=range_data[\"end\"][\"character\"],\n                        ),\n                    ),\n                    message=diag_data[\"message\"],\n                    severity=diag_data.get(\"severity\"),\n                    code=diag_data.get(\"code\"),\n                    source=diag_data.get(\"source\"),\n                )\n                diagnostics.append(diag)\n\n            self.diagnostics[uri] = diagnostics\n            logger.debug(\n                f\"Updated diagnostics for {uri}: {len(diagnostics)} diagnostics\"\n            )\n"
    },
    {
      "name": "_send_message",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 375,
            "character": 10
          },
          "end": {
            "line": 392,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _send_message(self, message: Dict[str, Any]) -> None:\n        \"\"\"Send message to LSP server\"\"\"\n        if not self.process or not self.process.stdin:\n            raise RuntimeError(\"LSP server not running\")\n\n        message_str = json.dumps(message, separators=(\",\", \":\"))\n        message_bytes = message_str.encode(\"utf-8\")\n\n        header = f\"Content-Length: {len(message_bytes)}\\r\\n\\r\\n\"\n        header_bytes = header.encode(\"utf-8\")\n\n        try:\n            self.process.stdin.write(header_bytes + message_bytes)\n            self.process.stdin.flush()\n        except Exception as e:\n            logger.error(f\"Error sending message: {e}\")\n            raise\n"
    },
    {
      "name": "_send_request",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 393,
            "character": 10
          },
          "end": {
            "line": 417,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _send_request(self, method: str, params: Any = None) -> Any:\n        \"\"\"Send request and wait for response\"\"\"\n        async with self.lock:\n            self.request_id += 1\n            request_id = self.request_id\n\n        message = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": request_id,\n            \"method\": method,\n            \"params\": params or {},\n        }\n\n        future = asyncio.Future()\n        self.pending_requests[request_id] = future\n\n        await self._send_message(message)\n\n        try:\n            result = await asyncio.wait_for(future, timeout=30.0)\n            return result\n        except asyncio.TimeoutError:\n            self.pending_requests.pop(request_id, None)\n            raise LSPError(-32000, f\"Request timeout: {method}\")\n"
    },
    {
      "name": "_send_notification",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 418,
            "character": 10
          },
          "end": {
            "line": 422,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _send_notification(self, method: str, params: Any = None) -> None:\n        \"\"\"Send notification\"\"\"\n        message = {\"jsonrpc\": \"2.0\", \"method\": method, \"params\": params or {}}\n        await self._send_message(message)\n"
    },
    {
      "name": "_send_response",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 423,
            "character": 10
          },
          "end": {
            "line": 427,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _send_response(self, request_id: Union[str, int], result: Any) -> None:\n        \"\"\"Send response to server request\"\"\"\n        message = {\"jsonrpc\": \"2.0\", \"id\": request_id, \"result\": result}\n        await self._send_message(message)\n"
    },
    {
      "name": "_send_error",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 428,
            "character": 10
          },
          "end": {
            "line": 440,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def _send_error(\n        self, request_id: Union[str, int], code: int, message: str, data: Any = None\n    ) -> None:\n        \"\"\"Send error response to server request\"\"\"\n        error_msg = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": request_id,\n            \"error\": {\"code\": code, \"message\": message},\n        }\n        if data is not None:\n            error_msg[\"error\"][\"data\"] = data\n        await self._send_message(error_msg)\n"
    },
    {
      "name": "initialize",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 443,
            "character": 10
          },
          "end": {
            "line": 508,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def initialize(self, workspace_path: str) -> Dict[str, Any]:\n        \"\"\"Initialize the LSP server\"\"\"\n        params = {\n            \"processId\": os.getpid(),\n            \"clientInfo\": {\"name\": \"python-lsp-client\", \"version\": \"1.0.0\"},\n            \"rootPath\": workspace_path,\n            \"rootUri\": self.path_to_uri(workspace_path),\n            \"capabilities\": {\n                \"workspace\": {\n                    \"configuration\": True,\n                    \"didChangeConfiguration\": {\"dynamicRegistration\": True},\n                    \"didChangeWatchedFiles\": {\n                        \"dynamicRegistration\": True,\n                        \"relativePatternSupport\": True,\n                    },\n                },\n                \"textDocument\": {\n                    \"synchronization\": {\"dynamicRegistration\": True, \"didSave\": True},\n                    \"completion\": {\"completionItem\": {}},\n                    \"hover\": {\n                        \"dynamicRegistration\": True,\n                        \"contentFormat\": [\"markdown\", \"plaintext\"],\n                    },\n                    \"signatureHelp\": {\"dynamicRegistration\": True},\n                    \"definition\": {\"dynamicRegistration\": True, \"linkSupport\": True},\n                    \"references\": {\"dynamicRegistration\": True},\n                    \"documentHighlight\": {\"dynamicRegistration\": True},\n                    \"documentSymbol\": {\n                        \"dynamicRegistration\": True,\n                        \"hierarchicalDocumentSymbolSupport\": True,\n                    },\n                    \"formatting\": {\"dynamicRegistration\": True},\n                    \"rangeFormatting\": {\"dynamicRegistration\": True},\n                    \"onTypeFormatting\": {\"dynamicRegistration\": True},\n                    \"rename\": {\"dynamicRegistration\": True, \"prepareSupport\": True},\n                    \"codeAction\": {\n                        \"dynamicRegistration\": True,\n                        \"codeActionLiteralSupport\": {\n                            \"codeActionKind\": {\"valueSet\": []}\n                        },\n                    },\n                    \"codeLens\": {\"dynamicRegistration\": True},\n                    \"documentLink\": {\"dynamicRegistration\": True},\n                    \"publishDiagnostics\": {\"versionSupport\": True},\n                },\n                \"window\": {},\n            },\n            \"initializationOptions\": {},\n            \"workspaceFolders\": [\n                {\n                    \"uri\": self.path_to_uri(workspace_path),\n                    \"name\": os.path.basename(workspace_path),\n                }\n            ],\n        }\n\n        result = await self._send_request(\"initialize\", params)\n        self.server_capabilities = result.get(\"capabilities\", {})\n        self.initialized = True\n\n        # Send initialized notification\n        await self._send_notification(\"initialized\", {})\n\n        logger.info(\"LSP server initialized successfully\")\n        return result\n"
    },
    {
      "name": "shutdown",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 509,
            "character": 10
          },
          "end": {
            "line": 515,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def shutdown(self) -> None:\n        \"\"\"Shutdown the LSP server\"\"\"\n        if self.initialized:\n            await self._send_request(\"shutdown\")\n            await self._send_notification(\"exit\")\n            self.initialized = False\n"
    },
    {
      "name": "stop",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 516,
            "character": 10
          },
          "end": {
            "line": 547,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def stop(self) -> None:\n        \"\"\"Stop the LSP client and server\"\"\"\n        if not self.running:\n            return\n\n        self.running = False\n\n        try:\n            if self.initialized:\n                await self.shutdown()\n        except Exception as e:\n            logger.error(f\"Error during shutdown: {e}\")\n\n        if self.read_task:\n            self.read_task.cancel()\n            try:\n                await self.read_task\n            except asyncio.CancelledError:\n                pass\n\n        if self.process:\n            try:\n                self.process.terminate()\n                self.process.wait(timeout=5)\n            except subprocess.TimeoutExpired:\n                self.process.kill()\n                self.process.wait()\n            except Exception as e:\n                logger.error(f\"Error stopping process: {e}\")\n\n        logger.info(\"LSP client stopped\")\n"
    },
    {
      "name": "did_open",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 550,
            "character": 10
          },
          "end": {
            "line": 577,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def did_open(self, file_path: str) -> None:\n        \"\"\"Notify server that a file is opened\"\"\"\n        if not os.path.exists(file_path):\n            raise FileNotFoundError(f\"File not found: {file_path}\")\n\n        with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            content = f.read()\n\n        uri = self.path_to_uri(file_path)\n\n        params = {\n            \"textDocument\": {\n                \"uri\": uri,\n                \"languageId\": self.detect_language_id(file_path),\n                \"version\": 1,\n                \"text\": content,\n            }\n        }\n\n        self.open_files[uri] = {\n            \"version\": 1,\n            \"languageId\": self.detect_language_id(file_path),\n            \"path\": file_path,\n        }\n\n        await self._send_notification(\"textDocument/didOpen\", params)\n        logger.debug(f\"Opened file: {file_path}\")\n"
    },
    {
      "name": "did_change",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 578,
            "character": 10
          },
          "end": {
            "line": 599,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def did_change(self, file_path: str, content: str = None) -> None:\n        \"\"\"Notify server that a file has changed\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n            return\n\n        if content is None:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                content = f.read()\n\n        version = self.open_files[uri][\"version\"] + 1\n        self.open_files[uri][\"version\"] = version\n\n        params = {\n            \"textDocument\": {\"uri\": uri, \"version\": version},\n            \"contentChanges\": [{\"text\": content}],\n        }\n\n        await self._send_notification(\"textDocument/didChange\", params)\n"
    },
    {
      "name": "did_save",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 600,
            "character": 10
          },
          "end": {
            "line": 607,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def did_save(self, file_path: str) -> None:\n        \"\"\"Notify server that a file has been saved\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        await self._send_notification(\"textDocument/didSave\", params)\n"
    },
    {
      "name": "did_close",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 608,
            "character": 10
          },
          "end": {
            "line": 620,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def did_close(self, file_path: str) -> None:\n        \"\"\"Notify server that a file is closed\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            return\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        del self.open_files[uri]\n        await self._send_notification(\"textDocument/didClose\", params)\n        logger.debug(f\"Closed file: {file_path}\")\n"
    },
    {
      "name": "get_hover",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 623,
            "character": 10
          },
          "end": {
            "line": 639,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_hover(\n        self, file_path: str, line: int, character: int\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Get hover information at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/hover\", params)\n        return result\n"
    },
    {
      "name": "get_definition",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 640,
            "character": 10
          },
          "end": {
            "line": 678,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_definition(\n        self, file_path: str, line: int, character: int\n    ) -> List[Location]:\n        \"\"\"Get definition at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/definition\", params)\n\n        if not result:\n            return []\n\n        # Handle both single location and array of locations\n        locations = result if isinstance(result, list) else [result]\n\n        return [\n            Location(\n                uri=loc[\"uri\"],\n                range=Range(\n                    start=Position(\n                        line=loc[\"range\"][\"start\"][\"line\"],\n                        character=loc[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=loc[\"range\"][\"end\"][\"line\"],\n                        character=loc[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n            )\n            for loc in locations\n        ]\n"
    },
    {
      "name": "get_references",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 679,
            "character": 10
          },
          "end": {
            "line": 719,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_references(\n        self,\n        file_path: str,\n        line: int,\n        character: int,\n        include_declaration: bool = True,\n    ) -> List[Location]:\n        \"\"\"Get references at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n            \"context\": {\"includeDeclaration\": include_declaration},\n        }\n\n        result = await self._send_request(\"textDocument/references\", params)\n\n        if not result:\n            return []\n\n        return [\n            Location(\n                uri=loc[\"uri\"],\n                range=Range(\n                    start=Position(\n                        line=loc[\"range\"][\"start\"][\"line\"],\n                        character=loc[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=loc[\"range\"][\"end\"][\"line\"],\n                        character=loc[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n            )\n            for loc in result\n        ]\n"
    },
    {
      "name": "get_completion",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 720,
            "character": 10
          },
          "end": {
            "line": 736,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_completion(\n        self, file_path: str, line: int, character: int\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Get completion suggestions at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/completion\", params)\n        return result\n"
    },
    {
      "name": "get_signature_help",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 737,
            "character": 10
          },
          "end": {
            "line": 753,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_signature_help(\n        self, file_path: str, line: int, character: int\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Get signature help at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }\n\n        result = await self._send_request(\"textDocument/signatureHelp\", params)\n        return result\n"
    },
    {
      "name": "get_document_symbols",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 754,
            "character": 10
          },
          "end": {
            "line": 766,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_document_symbols(self, file_path: str) -> List[Dict[str, Any]]:\n        \"\"\"Get document symbols\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        result = await self._send_request(\"textDocument/documentSymbol\", params)\n        print(result)\n        return result or []\n"
    },
    {
      "name": "get_workspace_symbols",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 767,
            "character": 10
          },
          "end": {
            "line": 773,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_workspace_symbols(self, query: str = \"\") -> List[Dict[str, Any]]:\n        \"\"\"Get workspace symbols\"\"\"\n        params = {\"query\": query}\n\n        result = await self._send_request(\"workspace/symbol\", params)\n        return result or []\n"
    },
    {
      "name": "format_document",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 774,
            "character": 10
          },
          "end": {
            "line": 807,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def format_document(self, file_path: str) -> List[TextEdit]:\n        \"\"\"Format entire document\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"options\": {\"tabSize\": 4, \"insertSpaces\": True},\n        }\n\n        result = await self._send_request(\"textDocument/formatting\", params)\n\n        if not result:\n            return []\n\n        return [\n            TextEdit(\n                range=Range(\n                    start=Position(\n                        line=edit[\"range\"][\"start\"][\"line\"],\n                        character=edit[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=edit[\"range\"][\"end\"][\"line\"],\n                        character=edit[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n                newText=edit[\"newText\"],\n            )\n            for edit in result\n        ]\n"
    },
    {
      "name": "format_range",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 808,
            "character": 10
          },
          "end": {
            "line": 852,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def format_range(\n        self,\n        file_path: str,\n        start_line: int,\n        start_char: int,\n        end_line: int,\n        end_char: int,\n    ) -> List[TextEdit]:\n        \"\"\"Format document range\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"range\": {\n                \"start\": {\"line\": start_line, \"character\": start_char},\n                \"end\": {\"line\": end_line, \"character\": end_char},\n            },\n            \"options\": {\"tabSize\": 4, \"insertSpaces\": True},\n        }\n\n        result = await self._send_request(\"textDocument/rangeFormatting\", params)\n\n        if not result:\n            return []\n\n        return [\n            TextEdit(\n                range=Range(\n                    start=Position(\n                        line=edit[\"range\"][\"start\"][\"line\"],\n                        character=edit[\"range\"][\"start\"][\"character\"],\n                    ),\n                    end=Position(\n                        line=edit[\"range\"][\"end\"][\"line\"],\n                        character=edit[\"range\"][\"end\"][\"character\"],\n                    ),\n                ),\n                newText=edit[\"newText\"],\n            )\n            for edit in result\n        ]\n"
    },
    {
      "name": "rename_symbol",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 853,
            "character": 10
          },
          "end": {
            "line": 870,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def rename_symbol(\n        self, file_path: str, line: int, character: int, new_name: str\n    ) -> Optional[Dict[str, Any]]:\n        \"\"\"Rename symbol at position\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n            \"newName\": new_name,\n        }\n\n        result = await self._send_request(\"textDocument/rename\", params)\n        return result\n"
    },
    {
      "name": "get_code_actions",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 871,
            "character": 10
          },
          "end": {
            "line": 919,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_code_actions(\n        self,\n        file_path: str,\n        start_line: int,\n        start_char: int,\n        end_line: int,\n        end_char: int,\n        diagnostics: List[Diagnostic] = None,\n    ) -> List[Dict[str, Any]]:\n        \"\"\"Get code actions for range\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        diag_data = []\n        if diagnostics:\n            for diag in diagnostics:\n                diag_data.append(\n                    {\n                        \"range\": {\n                            \"start\": {\n                                \"line\": diag.range.start.line,\n                                \"character\": diag.range.start.character,\n                            },\n                            \"end\": {\n                                \"line\": diag.range.end.line,\n                                \"character\": diag.range.end.character,\n                            },\n                        },\n                        \"message\": diag.message,\n                        \"severity\": diag.severity,\n                        \"code\": diag.code,\n                        \"source\": diag.source,\n                    }\n                )\n\n        params = {\n            \"textDocument\": {\"uri\": uri},\n            \"range\": {\n                \"start\": {\"line\": start_line, \"character\": start_char},\n                \"end\": {\"line\": end_line, \"character\": end_char},\n            },\n            \"context\": {\"diagnostics\": diag_data},\n        }\n\n        result = await self._send_request(\"textDocument/codeAction\", params)\n        return result or []\n"
    },
    {
      "name": "get_code_lens",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 920,
            "character": 10
          },
          "end": {
            "line": 931,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_code_lens(self, file_path: str) -> List[Dict[str, Any]]:\n        \"\"\"Get code lens for document\"\"\"\n        uri = self.path_to_uri(file_path)\n\n        if uri not in self.open_files:\n            await self.did_open(file_path)\n\n        params = {\"textDocument\": {\"uri\": uri}}\n\n        result = await self._send_request(\"textDocument/codeLens\", params)\n        return result or []\n"
    },
    {
      "name": "execute_command",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 932,
            "character": 10
          },
          "end": {
            "line": 938,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def execute_command(self, command: str, arguments: List[Any] = None) -> Any:\n        \"\"\"Execute workspace command\"\"\"\n        params = {\"command\": command, \"arguments\": arguments or []}\n\n        result = await self._send_request(\"workspace/executeCommand\", params)\n        return result\n"
    },
    {
      "name": "get_diagnostics",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 941,
            "character": 10
          },
          "end": {
            "line": 945,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_diagnostics(self, file_path: str) -> List[Diagnostic]:\n        \"\"\"Get cached diagnostics for a file\"\"\"\n        uri = self.path_to_uri(file_path)\n        return self.diagnostics.get(uri, [])\n"
    },
    {
      "name": "find_symbol_definition",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 946,
            "character": 10
          },
          "end": {
            "line": 972,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def find_symbol_definition(\n        self, symbol_name: str, file_path: str = None\n    ) -> Optional[Location]:\n        \"\"\"Find the definition of a symbol by name\"\"\"\n        # First try workspace symbols\n        symbols = await self.get_workspace_symbols(symbol_name)\n\n        for symbol in symbols:\n            if symbol.get(\"name\") == symbol_name:\n                location_data = symbol.get(\"location\")\n                if location_data:\n                    return Location(\n                        uri=location_data[\"uri\"],\n                        range=Range(\n                            start=Position(\n                                line=location_data[\"range\"][\"start\"][\"line\"],\n                                character=location_data[\"range\"][\"start\"][\"character\"],\n                            ),\n                            end=Position(\n                                line=location_data[\"range\"][\"end\"][\"line\"],\n                                character=location_data[\"range\"][\"end\"][\"character\"],\n                            ),\n                        ),\n                    )\n\n        return None\n"
    },
    {
      "name": "apply_text_edits",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 973,
            "character": 10
          },
          "end": {
            "line": 1019,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def apply_text_edits(self, edits: List[Tuple[str, List[TextEdit]]]) -> None:\n        \"\"\"Apply text edits to multiple files\"\"\"\n        for file_path, file_edits in edits:\n            # Read current file content\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            # Sort edits by position (reverse order to avoid offset issues)\n            sorted_edits = sorted(\n                file_edits,\n                key=lambda e: (e.range.start.line, e.range.start.character),\n                reverse=True,\n            )\n\n            # Apply edits\n            for edit in sorted_edits:\n                start_line = edit.range.start.line\n                start_char = edit.range.start.character\n                end_line = edit.range.end.line\n                end_char = edit.range.end.character\n\n                if start_line == end_line:\n                    # Single line edit\n                    line = lines[start_line]\n                    lines[start_line] = (\n                        line[:start_char] + edit.newText + line[end_char:]\n                    )\n                else:\n                    # Multi-line edit\n                    start_line_content = lines[start_line][:start_char]\n                    end_line_content = lines[end_line][end_char:]\n\n                    # Replace the range with new text\n                    new_content = start_line_content + edit.newText + end_line_content\n\n                    # Remove old lines and insert new content\n                    del lines[start_line : end_line + 1]\n                    if new_content:\n                        lines.insert(start_line, new_content)\n\n            # Write back to file\n            with open(file_path, \"w\", encoding=\"utf-8\") as f:\n                f.writelines(lines)\n\n            # Notify server of change\n            await self.did_change(file_path)\n"
    },
    {
      "name": "register_notification_handler",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1020,
            "character": 4
          },
          "end": {
            "line": 1025,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def register_notification_handler(\n        self, method: str, handler: Callable[[Dict[str, Any]], None]\n    ) -> None:\n        \"\"\"Register custom notification handler\"\"\"\n        self.notification_handlers[method] = handler\n"
    },
    {
      "name": "register_request_handler",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1026,
            "character": 4
          },
          "end": {
            "line": 1031,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def register_request_handler(\n        self, method: str, handler: Callable[[Dict[str, Any]], Any]\n    ) -> None:\n        \"\"\"Register custom request handler\"\"\"\n        self.request_handlers[method] = handler\n"
    },
    {
      "name": "__aenter__",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1032,
            "character": 10
          },
          "end": {
            "line": 1036,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def __aenter__(self):\n        \"\"\"Async context manager entry\"\"\"\n        await self.start()\n        return self\n"
    },
    {
      "name": "__aexit__",
      "containerName": "LSPClient",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1037,
            "character": 10
          },
          "end": {
            "line": 1040,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def __aexit__(self, exc_type, exc_val, exc_tb):\n        \"\"\"Async context manager exit\"\"\"\n        await self.stop()\n"
    },
    {
      "name": "command",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 101,
            "character": 8
          },
          "end": {
            "line": 101,
            "character": 30
          }
        }
      },
      "kind": "Field",
      "code_string": "self.command = command\n"
    },
    {
      "name": "args",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 102,
            "character": 8
          },
          "end": {
            "line": 102,
            "character": 30
          }
        }
      },
      "kind": "Field",
      "code_string": "self.args = args or []\n"
    },
    {
      "name": "cwd",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 103,
            "character": 8
          },
          "end": {
            "line": 103,
            "character": 37
          }
        }
      },
      "kind": "Field",
      "code_string": "self.cwd = cwd or os.getcwd()\n"
    },
    {
      "name": "process",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 106,
            "character": 8
          },
          "end": {
            "line": 106,
            "character": 55
          }
        }
      },
      "kind": "Field",
      "code_string": "self.process: Optional[subprocess.Popen] = None\n"
    },
    {
      "name": "running",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 107,
            "character": 8
          },
          "end": {
            "line": 107,
            "character": 28
          }
        }
      },
      "kind": "Field",
      "code_string": "self.running = False\n"
    },
    {
      "name": "request_id",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 110,
            "character": 8
          },
          "end": {
            "line": 110,
            "character": 27
          }
        }
      },
      "kind": "Field",
      "code_string": "self.request_id = 0\n"
    },
    {
      "name": "pending_requests",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 111,
            "character": 8
          },
          "end": {
            "line": 111,
            "character": 73
          }
        }
      },
      "kind": "Field",
      "code_string": "self.pending_requests: Dict[Union[str, int], asyncio.Future] = {}\n"
    },
    {
      "name": "notification_handlers",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 112,
            "character": 8
          },
          "end": {
            "line": 112,
            "character": 60
          }
        }
      },
      "kind": "Field",
      "code_string": "self.notification_handlers: Dict[str, Callable] = {}\n"
    },
    {
      "name": "request_handlers",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 113,
            "character": 8
          },
          "end": {
            "line": 113,
            "character": 55
          }
        }
      },
      "kind": "Field",
      "code_string": "self.request_handlers: Dict[str, Callable] = {}\n"
    },
    {
      "name": "initialized",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 116,
            "character": 8
          },
          "end": {
            "line": 116,
            "character": 32
          }
        }
      },
      "kind": "Field",
      "code_string": "self.initialized = False\n"
    },
    {
      "name": "server_capabilities",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 117,
            "character": 8
          },
          "end": {
            "line": 117,
            "character": 53
          }
        }
      },
      "kind": "Field",
      "code_string": "self.server_capabilities: Dict[str, Any] = {}\n"
    },
    {
      "name": "open_files",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 118,
            "character": 8
          },
          "end": {
            "line": 118,
            "character": 55
          }
        }
      },
      "kind": "Field",
      "code_string": "self.open_files: Dict[str, Dict[str, Any]] = {}\n"
    },
    {
      "name": "diagnostics",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 119,
            "character": 8
          },
          "end": {
            "line": 119,
            "character": 58
          }
        }
      },
      "kind": "Field",
      "code_string": "self.diagnostics: Dict[str, List[Diagnostic]] = {}\n"
    },
    {
      "name": "read_task",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 122,
            "character": 8
          },
          "end": {
            "line": 122,
            "character": 53
          }
        }
      },
      "kind": "Field",
      "code_string": "self.read_task: Optional[asyncio.Task] = None\n"
    },
    {
      "name": "lock",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 123,
            "character": 8
          },
          "end": {
            "line": 123,
            "character": 34
          }
        }
      },
      "kind": "Field",
      "code_string": "self.lock = asyncio.Lock()\n"
    },
    {
      "name": "abs_path",
      "containerName": "path_to_uri",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 127,
            "character": 8
          },
          "end": {
            "line": 127,
            "character": 40
          }
        }
      },
      "kind": "Variable",
      "code_string": "abs_path = os.path.abspath(path)\n"
    },
    {
      "name": "ext",
      "containerName": "detect_language_id",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 138,
            "character": 8
          },
          "end": {
            "line": 138,
            "character": 44
          }
        }
      },
      "kind": "Variable",
      "code_string": "ext = Path(file_path).suffix.lower()\n"
    },
    {
      "name": "language_map",
      "containerName": "detect_language_id",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 139,
            "character": 8
          },
          "end": {
            "line": 182,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "language_map = {\n            \".py\": \"python\",\n            \".js\": \"javascript\",\n            \".ts\": \"typescript\",\n            \".go\": \"go\",\n            \".rs\": \"rust\",\n            \".java\": \"java\",\n            \".c\": \"c\",\n            \".cpp\": \"cpp\",\n            \".cc\": \"cpp\",\n            \".cxx\": \"cpp\",\n            \".h\": \"c\",\n            \".hpp\": \"cpp\",\n            \".cs\": \"csharp\",\n            \".rb\": \"ruby\",\n            \".php\": \"php\",\n            \".swift\": \"swift\",\n            \".kt\": \"kotlin\",\n            \".scala\": \"scala\",\n            \".clj\": \"clojure\",\n            \".dart\": \"dart\",\n            \".lua\": \"lua\",\n            \".sh\": \"shellscript\",\n            \".bash\": \"shellscript\",\n            \".zsh\": \"shellscript\",\n            \".fish\": \"shellscript\",\n            \".ps1\": \"powershell\",\n            \".sql\": \"sql\",\n            \".html\": \"html\",\n            \".htm\": \"html\",\n            \".css\": \"css\",\n            \".scss\": \"scss\",\n            \".sass\": \"sass\",\n            \".less\": \"less\",\n            \".xml\": \"xml\",\n            \".json\": \"json\",\n            \".yaml\": \"yaml\",\n            \".yml\": \"yaml\",\n            \".toml\": \"toml\",\n            \".md\": \"markdown\",\n            \".tex\": \"latex\",\n            \".r\": \"r\",\n            \".R\": \"r\",\n        }"
    },
    {
      "name": "cmd",
      "containerName": "start",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 192,
            "character": 12
          },
          "end": {
            "line": 192,
            "character": 44
          }
        }
      },
      "kind": "Variable",
      "code_string": "cmd = [self.command] + self.args\n"
    },
    {
      "name": "process",
      "containerName": "start",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 193,
            "character": 12
          },
          "end": {
            "line": 201,
            "character": 13
          }
        }
      },
      "kind": "Field",
      "code_string": "self.process = subprocess.Popen(\n                cmd,\n                stdin=subprocess.PIPE,\n                stdout=subprocess.PIPE,\n                stderr=subprocess.PIPE,\n                cwd=self.cwd,\n                text=False,\n                bufsize=0,\n            )"
    },
    {
      "name": "running",
      "containerName": "start",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 203,
            "character": 12
          },
          "end": {
            "line": 203,
            "character": 31
          }
        }
      },
      "kind": "Field",
      "code_string": "self.running = True\n"
    },
    {
      "name": "read_task",
      "containerName": "start",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 207,
            "character": 12
          },
          "end": {
            "line": 207,
            "character": 71
          }
        }
      },
      "kind": "Field",
      "code_string": "self.read_task = asyncio.create_task(self._read_messages())\n"
    },
    {
      "name": "e",
      "containerName": "start",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 190,
            "character": 8
          },
          "end": {
            "line": 215,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            # Start the language server process\n            cmd = [self.command] + self.args\n            self.process = subprocess.Popen(\n                cmd,\n                stdin=subprocess.PIPE,\n                stdout=subprocess.PIPE,\n                stderr=subprocess.PIPE,\n                cwd=self.cwd,\n                text=False,\n                bufsize=0,\n            )\n\n            self.running = True\n            logger.info(f\"Started LSP server: {' '.join(cmd)}\")\n\n            # Start reading messages\n            self.read_task = asyncio.create_task(self._read_messages())\n\n            # Start stderr monitoring\n            asyncio.create_task(self._monitor_stderr())\n\n        except Exception as e:\n            logger.error(f\"Failed to start LSP server: {e}\")\n            raise\n"
    },
    {
      "name": "loop",
      "containerName": "_monitor_stderr",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 221,
            "character": 8
          },
          "end": {
            "line": 221,
            "character": 39
          }
        }
      },
      "kind": "Variable",
      "code_string": "loop = asyncio.get_event_loop()\n"
    },
    {
      "name": "line",
      "containerName": "_monitor_stderr",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 224,
            "character": 16
          },
          "end": {
            "line": 224,
            "character": 85
          }
        }
      },
      "kind": "Variable",
      "code_string": "line = await loop.run_in_executor(None, self.process.stderr.readline)\n"
    },
    {
      "name": "decoded_line",
      "containerName": "_monitor_stderr",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 226,
            "character": 20
          },
          "end": {
            "line": 226,
            "character": 80
          }
        }
      },
      "kind": "Variable",
      "code_string": "decoded_line = line.decode(\"utf-8\", errors=\"ignore\").strip()\n"
    },
    {
      "name": "e",
      "containerName": "_monitor_stderr",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 223,
            "character": 12
          },
          "end": {
            "line": 234,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                line = await loop.run_in_executor(None, self.process.stderr.readline)\n                if line:\n                    decoded_line = line.decode(\"utf-8\", errors=\"ignore\").strip()\n                    if decoded_line:\n                        logger.info(f\"LSP stderr: {decoded_line}\")\n                else:\n                    break\n            except Exception as e:\n                logger.error(f\"Error reading stderr: {e}\")\n                break\n"
    },
    {
      "name": "buffer",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 237,
            "character": 8
          },
          "end": {
            "line": 237,
            "character": 20
          }
        }
      },
      "kind": "Variable",
      "code_string": "buffer = b\"\"\n"
    },
    {
      "name": "data",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 242,
            "character": 16
          },
          "end": {
            "line": 244,
            "character": 17
          }
        }
      },
      "kind": "Variable",
      "code_string": "data = await asyncio.get_event_loop().run_in_executor(\n                    None, self.process.stdout.read, 4096\n                )"
    },
    {
      "name": "buffer",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 249,
            "character": 16
          },
          "end": {
            "line": 249,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "buffer += data\n"
    },
    {
      "name": "header_end",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 253,
            "character": 20
          },
          "end": {
            "line": 253,
            "character": 57
          }
        }
      },
      "kind": "Variable",
      "code_string": "header_end = buffer.find(b\"\\r\\n\\r\\n\")\n"
    },
    {
      "name": "header",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 254,
            "character": 20
          },
          "end": {
            "line": 254,
            "character": 64
          }
        }
      },
      "kind": "Variable",
      "code_string": "header = buffer[:header_end].decode(\"utf-8\")\n"
    },
    {
      "name": "content_length",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 257,
            "character": 20
          },
          "end": {
            "line": 257,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "content_length = None\n"
    },
    {
      "name": "line",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 258,
            "character": 20
          },
          "end": {
            "line": 262,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for line in header.split(\"\\r\\n\"):\n                        if line.startswith(\"Content-Length:\"):\n                            content_length = int(line.split(\":\")[1].strip())\n                            break\n"
    },
    {
      "name": "content_length",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 260,
            "character": 28
          },
          "end": {
            "line": 260,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "content_length = int(line.split(\":\")[1].strip())\n"
    },
    {
      "name": "buffer",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 265,
            "character": 24
          },
          "end": {
            "line": 265,
            "character": 57
          }
        }
      },
      "kind": "Variable",
      "code_string": "buffer = buffer[header_end + 4 :]\n"
    },
    {
      "name": "message_start",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 269,
            "character": 20
          },
          "end": {
            "line": 269,
            "character": 50
          }
        }
      },
      "kind": "Variable",
      "code_string": "message_start = header_end + 4\n"
    },
    {
      "name": "message_data",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 274,
            "character": 20
          },
          "end": {
            "line": 276,
            "character": 21
          }
        }
      },
      "kind": "Variable",
      "code_string": "message_data = buffer[\n                        message_start : message_start + content_length\n                    ]"
    },
    {
      "name": "buffer",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 277,
            "character": 20
          },
          "end": {
            "line": 277,
            "character": 69
          }
        }
      },
      "kind": "Variable",
      "code_string": "buffer = buffer[message_start + content_length :]\n"
    },
    {
      "name": "message_str",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 280,
            "character": 24
          },
          "end": {
            "line": 280,
            "character": 66
          }
        }
      },
      "kind": "Variable",
      "code_string": "message_str = message_data.decode(\"utf-8\")\n"
    },
    {
      "name": "message",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 281,
            "character": 24
          },
          "end": {
            "line": 281,
            "character": 57
          }
        }
      },
      "kind": "Variable",
      "code_string": "message = json.loads(message_str)\n"
    },
    {
      "name": "e",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 279,
            "character": 20
          },
          "end": {
            "line": 285,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                        message_str = message_data.decode(\"utf-8\")\n                        message = json.loads(message_str)\n                        await self._handle_message(message)\n                    except Exception as e:\n                        logger.error(f\"Error processing message: {e}\")\n"
    },
    {
      "name": "e",
      "containerName": "_read_messages",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 240,
            "character": 12
          },
          "end": {
            "line": 289,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                # Read data\n                data = await asyncio.get_event_loop().run_in_executor(\n                    None, self.process.stdout.read, 4096\n                )\n\n                if not data:\n                    break\n\n                buffer += data\n\n                # Process complete messages\n                while b\"\\r\\n\\r\\n\" in buffer:\n                    header_end = buffer.find(b\"\\r\\n\\r\\n\")\n                    header = buffer[:header_end].decode(\"utf-8\")\n\n                    # Parse content length\n                    content_length = None\n                    for line in header.split(\"\\r\\n\"):\n                        if line.startswith(\"Content-Length:\"):\n                            content_length = int(line.split(\":\")[1].strip())\n                            break\n\n                    if content_length is None:\n                        logger.error(\"No Content-Length header found\")\n                        buffer = buffer[header_end + 4 :]\n                        continue\n\n                    # Check if we have the complete message\n                    message_start = header_end + 4\n                    if len(buffer) < message_start + content_length:\n                        break\n\n                    # Extract and process message\n                    message_data = buffer[\n                        message_start : message_start + content_length\n                    ]\n                    buffer = buffer[message_start + content_length :]\n\n                    try:\n                        message_str = message_data.decode(\"utf-8\")\n                        message = json.loads(message_str)\n                        await self._handle_message(message)\n                    except Exception as e:\n                        logger.error(f\"Error processing message: {e}\")\n\n            except Exception as e:\n                logger.error(f\"Error reading from LSP server: {e}\")\n                break\n"
    },
    {
      "name": "msg_id",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 295,
            "character": 16
          },
          "end": {
            "line": 295,
            "character": 38
          }
        }
      },
      "kind": "Variable",
      "code_string": "msg_id = message[\"id\"]\n"
    },
    {
      "name": "future",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 297,
            "character": 20
          },
          "end": {
            "line": 297,
            "character": 62
          }
        }
      },
      "kind": "Variable",
      "code_string": "future = self.pending_requests.pop(msg_id)\n"
    },
    {
      "name": "error",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 299,
            "character": 24
          },
          "end": {
            "line": 299,
            "character": 48
          }
        }
      },
      "kind": "Variable",
      "code_string": "error = message[\"error\"]\n"
    },
    {
      "name": "method",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 311,
            "character": 16
          },
          "end": {
            "line": 311,
            "character": 42
          }
        }
      },
      "kind": "Variable",
      "code_string": "method = message[\"method\"]\n"
    },
    {
      "name": "params",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 312,
            "character": 16
          },
          "end": {
            "line": 312,
            "character": 50
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = message.get(\"params\", {})\n"
    },
    {
      "name": "result",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 318,
            "character": 28
          },
          "end": {
            "line": 318,
            "character": 80
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self.request_handlers[method](params)\n"
    },
    {
      "name": "e",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 317,
            "character": 24
          },
          "end": {
            "line": 322,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                            result = await self.request_handlers[method](params)\n                            await self._send_response(message[\"id\"], result)\n                        except Exception as e:\n                            await self._send_error(message[\"id\"], -32603, str(e))\n"
    },
    {
      "name": "e",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 329,
            "character": 24
          },
          "end": {
            "line": 333,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                            await self.notification_handlers[method](params)\n                        except Exception as e:\n                            logger.error(f\"Error handling notification {method}: {e}\")\n"
    },
    {
      "name": "e",
      "containerName": "_handle_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 292,
            "character": 8
          },
          "end": {
            "line": 339,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            if \"id\" in message and \"method\" not in message:\n                # Response\n                msg_id = message[\"id\"]\n                if msg_id in self.pending_requests:\n                    future = self.pending_requests.pop(msg_id)\n                    if \"error\" in message:\n                        error = message[\"error\"]\n                        future.set_exception(\n                            LSPError(\n                                error.get(\"code\", -1),\n                                error.get(\"message\", \"Unknown error\"),\n                                error.get(\"data\"),\n                            )\n                        )\n                    else:\n                        future.set_result(message.get(\"result\"))\n\n            elif \"method\" in message:\n                method = message[\"method\"]\n                params = message.get(\"params\", {})\n\n                if \"id\" in message:\n                    # Server request\n                    if method in self.request_handlers:\n                        try:\n                            result = await self.request_handlers[method](params)\n                            await self._send_response(message[\"id\"], result)\n                        except Exception as e:\n                            await self._send_error(message[\"id\"], -32603, str(e))\n                    else:\n                        await self._send_error(\n                            message[\"id\"], -32601, f\"Method not found: {method}\"\n                        )\n                else:\n                    # Notification\n                    if method in self.notification_handlers:\n                        try:\n                            await self.notification_handlers[method](params)\n                        except Exception as e:\n                            logger.error(f\"Error handling notification {method}: {e}\")\n\n                    # Handle built-in notifications\n                    await self._handle_builtin_notification(method, params)\n\n        except Exception as e:\n            logger.error(f\"Error handling message: {e}\")\n"
    },
    {
      "name": "uri",
      "containerName": "_handle_builtin_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 345,
            "character": 12
          },
          "end": {
            "line": 345,
            "character": 39
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = params.get(\"uri\", \"\")\n"
    },
    {
      "name": "diagnostics_data",
      "containerName": "_handle_builtin_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 346,
            "character": 12
          },
          "end": {
            "line": 346,
            "character": 60
          }
        }
      },
      "kind": "Variable",
      "code_string": "diagnostics_data = params.get(\"diagnostics\", [])\n"
    },
    {
      "name": "diagnostics",
      "containerName": "_handle_builtin_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 349,
            "character": 12
          },
          "end": {
            "line": 349,
            "character": 28
          }
        }
      },
      "kind": "Variable",
      "code_string": "diagnostics = []\n"
    },
    {
      "name": "diag_data",
      "containerName": "_handle_builtin_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 350,
            "character": 12
          },
          "end": {
            "line": 369,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for diag_data in diagnostics_data:\n                range_data = diag_data[\"range\"]\n                diag = Diagnostic(\n                    range=Range(\n                        start=Position(\n                            line=range_data[\"start\"][\"line\"],\n                            character=range_data[\"start\"][\"character\"],\n                        ),\n                        end=Position(\n                            line=range_data[\"end\"][\"line\"],\n                            character=range_data[\"end\"][\"character\"],\n                        ),\n                    ),\n                    message=diag_data[\"message\"],\n                    severity=diag_data.get(\"severity\"),\n                    code=diag_data.get(\"code\"),\n                    source=diag_data.get(\"source\"),\n                )\n                diagnostics.append(diag)\n"
    },
    {
      "name": "range_data",
      "containerName": "_handle_builtin_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 351,
            "character": 16
          },
          "end": {
            "line": 351,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "range_data = diag_data[\"range\"]\n"
    },
    {
      "name": "diag",
      "containerName": "_handle_builtin_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 352,
            "character": 16
          },
          "end": {
            "line": 367,
            "character": 17
          }
        }
      },
      "kind": "Variable",
      "code_string": "diag = Diagnostic(\n                    range=Range(\n                        start=Position(\n                            line=range_data[\"start\"][\"line\"],\n                            character=range_data[\"start\"][\"character\"],\n                        ),\n                        end=Position(\n                            line=range_data[\"end\"][\"line\"],\n                            character=range_data[\"end\"][\"character\"],\n                        ),\n                    ),\n                    message=diag_data[\"message\"],\n                    severity=diag_data.get(\"severity\"),\n                    code=diag_data.get(\"code\"),\n                    source=diag_data.get(\"source\"),\n                )"
    },
    {
      "name": "message_str",
      "containerName": "_send_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 380,
            "character": 8
          },
          "end": {
            "line": 380,
            "character": 64
          }
        }
      },
      "kind": "Variable",
      "code_string": "message_str = json.dumps(message, separators=(\",\", \":\"))\n"
    },
    {
      "name": "message_bytes",
      "containerName": "_send_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 381,
            "character": 8
          },
          "end": {
            "line": 381,
            "character": 51
          }
        }
      },
      "kind": "Variable",
      "code_string": "message_bytes = message_str.encode(\"utf-8\")\n"
    },
    {
      "name": "header",
      "containerName": "_send_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 383,
            "character": 8
          },
          "end": {
            "line": 383,
            "character": 64
          }
        }
      },
      "kind": "Variable",
      "code_string": "header = f\"Content-Length: {len(message_bytes)}\\r\\n\\r\\n\"\n"
    },
    {
      "name": "header_bytes",
      "containerName": "_send_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 384,
            "character": 8
          },
          "end": {
            "line": 384,
            "character": 45
          }
        }
      },
      "kind": "Variable",
      "code_string": "header_bytes = header.encode(\"utf-8\")\n"
    },
    {
      "name": "e",
      "containerName": "_send_message",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 386,
            "character": 8
          },
          "end": {
            "line": 392,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            self.process.stdin.write(header_bytes + message_bytes)\n            self.process.stdin.flush()\n        except Exception as e:\n            logger.error(f\"Error sending message: {e}\")\n            raise\n"
    },
    {
      "name": "request_id",
      "containerName": "_send_request",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 396,
            "character": 12
          },
          "end": {
            "line": 396,
            "character": 32
          }
        }
      },
      "kind": "Field",
      "code_string": "self.request_id += 1\n"
    },
    {
      "name": "request_id",
      "containerName": "_send_request",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 397,
            "character": 12
          },
          "end": {
            "line": 397,
            "character": 40
          }
        }
      },
      "kind": "Variable",
      "code_string": "request_id = self.request_id\n"
    },
    {
      "name": "message",
      "containerName": "_send_request",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 399,
            "character": 8
          },
          "end": {
            "line": 404,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "message = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": request_id,\n            \"method\": method,\n            \"params\": params or {},\n        }"
    },
    {
      "name": "future",
      "containerName": "_send_request",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 406,
            "character": 8
          },
          "end": {
            "line": 406,
            "character": 33
          }
        }
      },
      "kind": "Variable",
      "code_string": "future = asyncio.Future()\n"
    },
    {
      "name": "result",
      "containerName": "_send_request",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 412,
            "character": 12
          },
          "end": {
            "line": 412,
            "character": 65
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await asyncio.wait_for(future, timeout=30.0)\n"
    },
    {
      "name": "message",
      "containerName": "_send_notification",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 420,
            "character": 8
          },
          "end": {
            "line": 420,
            "character": 78
          }
        }
      },
      "kind": "Variable",
      "code_string": "message = {\"jsonrpc\": \"2.0\", \"method\": method, \"params\": params or {}}\n"
    },
    {
      "name": "message",
      "containerName": "_send_response",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 425,
            "character": 8
          },
          "end": {
            "line": 425,
            "character": 72
          }
        }
      },
      "kind": "Variable",
      "code_string": "message = {\"jsonrpc\": \"2.0\", \"id\": request_id, \"result\": result}\n"
    },
    {
      "name": "error_msg",
      "containerName": "_send_error",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 432,
            "character": 8
          },
          "end": {
            "line": 436,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "error_msg = {\n            \"jsonrpc\": \"2.0\",\n            \"id\": request_id,\n            \"error\": {\"code\": code, \"message\": message},\n        }"
    },
    {
      "name": "params",
      "containerName": "initialize",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 445,
            "character": 8
          },
          "end": {
            "line": 497,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"processId\": os.getpid(),\n            \"clientInfo\": {\"name\": \"python-lsp-client\", \"version\": \"1.0.0\"},\n            \"rootPath\": workspace_path,\n            \"rootUri\": self.path_to_uri(workspace_path),\n            \"capabilities\": {\n                \"workspace\": {\n                    \"configuration\": True,\n                    \"didChangeConfiguration\": {\"dynamicRegistration\": True},\n                    \"didChangeWatchedFiles\": {\n                        \"dynamicRegistration\": True,\n                        \"relativePatternSupport\": True,\n                    },\n                },\n                \"textDocument\": {\n                    \"synchronization\": {\"dynamicRegistration\": True, \"didSave\": True},\n                    \"completion\": {\"completionItem\": {}},\n                    \"hover\": {\n                        \"dynamicRegistration\": True,\n                        \"contentFormat\": [\"markdown\", \"plaintext\"],\n                    },\n                    \"signatureHelp\": {\"dynamicRegistration\": True},\n                    \"definition\": {\"dynamicRegistration\": True, \"linkSupport\": True},\n                    \"references\": {\"dynamicRegistration\": True},\n                    \"documentHighlight\": {\"dynamicRegistration\": True},\n                    \"documentSymbol\": {\n                        \"dynamicRegistration\": True,\n                        \"hierarchicalDocumentSymbolSupport\": True,\n                    },\n                    \"formatting\": {\"dynamicRegistration\": True},\n                    \"rangeFormatting\": {\"dynamicRegistration\": True},\n                    \"onTypeFormatting\": {\"dynamicRegistration\": True},\n                    \"rename\": {\"dynamicRegistration\": True, \"prepareSupport\": True},\n                    \"codeAction\": {\n                        \"dynamicRegistration\": True,\n                        \"codeActionLiteralSupport\": {\n                            \"codeActionKind\": {\"valueSet\": []}\n                        },\n                    },\n                    \"codeLens\": {\"dynamicRegistration\": True},\n                    \"documentLink\": {\"dynamicRegistration\": True},\n                    \"publishDiagnostics\": {\"versionSupport\": True},\n                },\n                \"window\": {},\n            },\n            \"initializationOptions\": {},\n            \"workspaceFolders\": [\n                {\n                    \"uri\": self.path_to_uri(workspace_path),\n                    \"name\": os.path.basename(workspace_path),\n                }\n            ],\n        }"
    },
    {
      "name": "result",
      "containerName": "initialize",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 499,
            "character": 8
          },
          "end": {
            "line": 499,
            "character": 63
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"initialize\", params)\n"
    },
    {
      "name": "server_capabilities",
      "containerName": "initialize",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 500,
            "character": 8
          },
          "end": {
            "line": 500,
            "character": 65
          }
        }
      },
      "kind": "Field",
      "code_string": "self.server_capabilities = result.get(\"capabilities\", {})\n"
    },
    {
      "name": "initialized",
      "containerName": "initialize",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 501,
            "character": 8
          },
          "end": {
            "line": 501,
            "character": 31
          }
        }
      },
      "kind": "Field",
      "code_string": "self.initialized = True\n"
    },
    {
      "name": "initialized",
      "containerName": "shutdown",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 514,
            "character": 12
          },
          "end": {
            "line": 514,
            "character": 36
          }
        }
      },
      "kind": "Field",
      "code_string": "self.initialized = False\n"
    },
    {
      "name": "running",
      "containerName": "stop",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 521,
            "character": 8
          },
          "end": {
            "line": 521,
            "character": 28
          }
        }
      },
      "kind": "Field",
      "code_string": "self.running = False\n"
    },
    {
      "name": "e",
      "containerName": "stop",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 523,
            "character": 8
          },
          "end": {
            "line": 528,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            if self.initialized:\n                await self.shutdown()\n        except Exception as e:\n            logger.error(f\"Error during shutdown: {e}\")\n"
    },
    {
      "name": "e",
      "containerName": "stop",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 537,
            "character": 12
          },
          "end": {
            "line": 545,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                self.process.terminate()\n                self.process.wait(timeout=5)\n            except subprocess.TimeoutExpired:\n                self.process.kill()\n                self.process.wait()\n            except Exception as e:\n                logger.error(f\"Error stopping process: {e}\")\n"
    },
    {
      "name": "f",
      "containerName": "did_open",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 555,
            "character": 8
          },
          "end": {
            "line": 557,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path, \"r\", encoding=\"utf-8\") as f:\n            content = f.read()\n"
    },
    {
      "name": "content",
      "containerName": "did_open",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 556,
            "character": 12
          },
          "end": {
            "line": 556,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "content = f.read()\n"
    },
    {
      "name": "uri",
      "containerName": "did_open",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 558,
            "character": 8
          },
          "end": {
            "line": 558,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "did_open",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 560,
            "character": 8
          },
          "end": {
            "line": 567,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\n                \"uri\": uri,\n                \"languageId\": self.detect_language_id(file_path),\n                \"version\": 1,\n                \"text\": content,\n            }\n        }"
    },
    {
      "name": "uri",
      "containerName": "did_change",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 580,
            "character": 8
          },
          "end": {
            "line": 580,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "f",
      "containerName": "did_change",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 587,
            "character": 12
          },
          "end": {
            "line": 589,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                content = f.read()\n"
    },
    {
      "name": "content",
      "containerName": "did_change",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 588,
            "character": 16
          },
          "end": {
            "line": 588,
            "character": 34
          }
        }
      },
      "kind": "Variable",
      "code_string": "content = f.read()\n"
    },
    {
      "name": "version",
      "containerName": "did_change",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 590,
            "character": 8
          },
          "end": {
            "line": 590,
            "character": 53
          }
        }
      },
      "kind": "Variable",
      "code_string": "version = self.open_files[uri][\"version\"] + 1\n"
    },
    {
      "name": "params",
      "containerName": "did_change",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 593,
            "character": 8
          },
          "end": {
            "line": 596,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri, \"version\": version},\n            \"contentChanges\": [{\"text\": content}],\n        }"
    },
    {
      "name": "uri",
      "containerName": "did_save",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 602,
            "character": 8
          },
          "end": {
            "line": 602,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "did_save",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 604,
            "character": 8
          },
          "end": {
            "line": 604,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\"textDocument\": {\"uri\": uri}}\n"
    },
    {
      "name": "uri",
      "containerName": "did_close",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 610,
            "character": 8
          },
          "end": {
            "line": 610,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "did_close",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 615,
            "character": 8
          },
          "end": {
            "line": 615,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\"textDocument\": {\"uri\": uri}}\n"
    },
    {
      "name": "uri",
      "containerName": "get_hover",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 627,
            "character": 8
          },
          "end": {
            "line": 627,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_hover",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 632,
            "character": 8
          },
          "end": {
            "line": 635,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }"
    },
    {
      "name": "result",
      "containerName": "get_hover",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 637,
            "character": 8
          },
          "end": {
            "line": 637,
            "character": 71
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/hover\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "get_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 644,
            "character": 8
          },
          "end": {
            "line": 644,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 649,
            "character": 8
          },
          "end": {
            "line": 652,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }"
    },
    {
      "name": "result",
      "containerName": "get_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 654,
            "character": 8
          },
          "end": {
            "line": 654,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/definition\", params)\n"
    },
    {
      "name": "locations",
      "containerName": "get_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 660,
            "character": 8
          },
          "end": {
            "line": 660,
            "character": 68
          }
        }
      },
      "kind": "Variable",
      "code_string": "locations = result if isinstance(result, list) else [result]\n"
    },
    {
      "name": "loc",
      "containerName": "get_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 676,
            "character": 12
          },
          "end": {
            "line": 676,
            "character": 32
          }
        }
      },
      "kind": "Variable",
      "code_string": "for loc in locations\n"
    },
    {
      "name": "uri",
      "containerName": "get_references",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 687,
            "character": 8
          },
          "end": {
            "line": 687,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_references",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 692,
            "character": 8
          },
          "end": {
            "line": 696,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n            \"context\": {\"includeDeclaration\": include_declaration},\n        }"
    },
    {
      "name": "result",
      "containerName": "get_references",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 698,
            "character": 8
          },
          "end": {
            "line": 698,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/references\", params)\n"
    },
    {
      "name": "loc",
      "containerName": "get_references",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 717,
            "character": 12
          },
          "end": {
            "line": 717,
            "character": 29
          }
        }
      },
      "kind": "Variable",
      "code_string": "for loc in result\n"
    },
    {
      "name": "uri",
      "containerName": "get_completion",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 724,
            "character": 8
          },
          "end": {
            "line": 724,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_completion",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 729,
            "character": 8
          },
          "end": {
            "line": 732,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }"
    },
    {
      "name": "result",
      "containerName": "get_completion",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 734,
            "character": 8
          },
          "end": {
            "line": 734,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/completion\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "get_signature_help",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 741,
            "character": 8
          },
          "end": {
            "line": 741,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_signature_help",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 746,
            "character": 8
          },
          "end": {
            "line": 749,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n        }"
    },
    {
      "name": "result",
      "containerName": "get_signature_help",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 751,
            "character": 8
          },
          "end": {
            "line": 751,
            "character": 79
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/signatureHelp\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "get_document_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 756,
            "character": 8
          },
          "end": {
            "line": 756,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_document_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 761,
            "character": 8
          },
          "end": {
            "line": 761,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\"textDocument\": {\"uri\": uri}}\n"
    },
    {
      "name": "result",
      "containerName": "get_document_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 763,
            "character": 8
          },
          "end": {
            "line": 763,
            "character": 80
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/documentSymbol\", params)\n"
    },
    {
      "name": "params",
      "containerName": "get_workspace_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 769,
            "character": 8
          },
          "end": {
            "line": 769,
            "character": 33
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\"query\": query}\n"
    },
    {
      "name": "result",
      "containerName": "get_workspace_symbols",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 771,
            "character": 8
          },
          "end": {
            "line": 771,
            "character": 69
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"workspace/symbol\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "format_document",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 776,
            "character": 8
          },
          "end": {
            "line": 776,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "format_document",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 781,
            "character": 8
          },
          "end": {
            "line": 784,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"options\": {\"tabSize\": 4, \"insertSpaces\": True},\n        }"
    },
    {
      "name": "result",
      "containerName": "format_document",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 786,
            "character": 8
          },
          "end": {
            "line": 786,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/formatting\", params)\n"
    },
    {
      "name": "edit",
      "containerName": "format_document",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 805,
            "character": 12
          },
          "end": {
            "line": 805,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "for edit in result\n"
    },
    {
      "name": "uri",
      "containerName": "format_range",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 817,
            "character": 8
          },
          "end": {
            "line": 817,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "format_range",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 822,
            "character": 8
          },
          "end": {
            "line": 829,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"range\": {\n                \"start\": {\"line\": start_line, \"character\": start_char},\n                \"end\": {\"line\": end_line, \"character\": end_char},\n            },\n            \"options\": {\"tabSize\": 4, \"insertSpaces\": True},\n        }"
    },
    {
      "name": "result",
      "containerName": "format_range",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 831,
            "character": 8
          },
          "end": {
            "line": 831,
            "character": 81
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/rangeFormatting\", params)\n"
    },
    {
      "name": "edit",
      "containerName": "format_range",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 850,
            "character": 12
          },
          "end": {
            "line": 850,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "for edit in result\n"
    },
    {
      "name": "uri",
      "containerName": "rename_symbol",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 857,
            "character": 8
          },
          "end": {
            "line": 857,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "rename_symbol",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 862,
            "character": 8
          },
          "end": {
            "line": 866,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"position\": {\"line\": line, \"character\": character},\n            \"newName\": new_name,\n        }"
    },
    {
      "name": "result",
      "containerName": "rename_symbol",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 868,
            "character": 8
          },
          "end": {
            "line": 868,
            "character": 72
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/rename\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "get_code_actions",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 881,
            "character": 8
          },
          "end": {
            "line": 881,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "diag_data",
      "containerName": "get_code_actions",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 886,
            "character": 8
          },
          "end": {
            "line": 886,
            "character": 22
          }
        }
      },
      "kind": "Variable",
      "code_string": "diag_data = []\n"
    },
    {
      "name": "diag",
      "containerName": "get_code_actions",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 888,
            "character": 12
          },
          "end": {
            "line": 907,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for diag in diagnostics:\n                diag_data.append(\n                    {\n                        \"range\": {\n                            \"start\": {\n                                \"line\": diag.range.start.line,\n                                \"character\": diag.range.start.character,\n                            },\n                            \"end\": {\n                                \"line\": diag.range.end.line,\n                                \"character\": diag.range.end.character,\n                            },\n                        },\n                        \"message\": diag.message,\n                        \"severity\": diag.severity,\n                        \"code\": diag.code,\n                        \"source\": diag.source,\n                    }\n                )\n"
    },
    {
      "name": "params",
      "containerName": "get_code_actions",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 908,
            "character": 8
          },
          "end": {
            "line": 915,
            "character": 9
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\n            \"textDocument\": {\"uri\": uri},\n            \"range\": {\n                \"start\": {\"line\": start_line, \"character\": start_char},\n                \"end\": {\"line\": end_line, \"character\": end_char},\n            },\n            \"context\": {\"diagnostics\": diag_data},\n        }"
    },
    {
      "name": "result",
      "containerName": "get_code_actions",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 917,
            "character": 8
          },
          "end": {
            "line": 917,
            "character": 76
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/codeAction\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "get_code_lens",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 922,
            "character": 8
          },
          "end": {
            "line": 922,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "params",
      "containerName": "get_code_lens",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 927,
            "character": 8
          },
          "end": {
            "line": 927,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\"textDocument\": {\"uri\": uri}}\n"
    },
    {
      "name": "result",
      "containerName": "get_code_lens",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 929,
            "character": 8
          },
          "end": {
            "line": 929,
            "character": 74
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"textDocument/codeLens\", params)\n"
    },
    {
      "name": "params",
      "containerName": "execute_command",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 934,
            "character": 8
          },
          "end": {
            "line": 934,
            "character": 67
          }
        }
      },
      "kind": "Variable",
      "code_string": "params = {\"command\": command, \"arguments\": arguments or []}\n"
    },
    {
      "name": "result",
      "containerName": "execute_command",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 936,
            "character": 8
          },
          "end": {
            "line": 936,
            "character": 77
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = await self._send_request(\"workspace/executeCommand\", params)\n"
    },
    {
      "name": "uri",
      "containerName": "get_diagnostics",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 943,
            "character": 8
          },
          "end": {
            "line": 943,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "uri = self.path_to_uri(file_path)\n"
    },
    {
      "name": "symbols",
      "containerName": "find_symbol_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 951,
            "character": 8
          },
          "end": {
            "line": 951,
            "character": 63
          }
        }
      },
      "kind": "Variable",
      "code_string": "symbols = await self.get_workspace_symbols(symbol_name)\n"
    },
    {
      "name": "symbol",
      "containerName": "find_symbol_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 953,
            "character": 8
          },
          "end": {
            "line": 970,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for symbol in symbols:\n            if symbol.get(\"name\") == symbol_name:\n                location_data = symbol.get(\"location\")\n                if location_data:\n                    return Location(\n                        uri=location_data[\"uri\"],\n                        range=Range(\n                            start=Position(\n                                line=location_data[\"range\"][\"start\"][\"line\"],\n                                character=location_data[\"range\"][\"start\"][\"character\"],\n                            ),\n                            end=Position(\n                                line=location_data[\"range\"][\"end\"][\"line\"],\n                                character=location_data[\"range\"][\"end\"][\"character\"],\n                            ),\n                        ),\n                    )\n"
    },
    {
      "name": "location_data",
      "containerName": "find_symbol_definition",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 955,
            "character": 16
          },
          "end": {
            "line": 955,
            "character": 54
          }
        }
      },
      "kind": "Variable",
      "code_string": "location_data = symbol.get(\"location\")\n"
    },
    {
      "name": "file_path",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 975,
            "character": 8
          },
          "end": {
            "line": 1019,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for file_path, file_edits in edits:\n            # Read current file content\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            # Sort edits by position (reverse order to avoid offset issues)\n            sorted_edits = sorted(\n                file_edits,\n                key=lambda e: (e.range.start.line, e.range.start.character),\n                reverse=True,\n            )\n\n            # Apply edits\n            for edit in sorted_edits:\n                start_line = edit.range.start.line\n                start_char = edit.range.start.character\n                end_line = edit.range.end.line\n                end_char = edit.range.end.character\n\n                if start_line == end_line:\n                    # Single line edit\n                    line = lines[start_line]\n                    lines[start_line] = (\n                        line[:start_char] + edit.newText + line[end_char:]\n                    )\n                else:\n                    # Multi-line edit\n                    start_line_content = lines[start_line][:start_char]\n                    end_line_content = lines[end_line][end_char:]\n\n                    # Replace the range with new text\n                    new_content = start_line_content + edit.newText + end_line_content\n\n                    # Remove old lines and insert new content\n                    del lines[start_line : end_line + 1]\n                    if new_content:\n                        lines.insert(start_line, new_content)\n\n            # Write back to file\n            with open(file_path, \"w\", encoding=\"utf-8\") as f:\n                f.writelines(lines)\n\n            # Notify server of change\n            await self.did_change(file_path)\n"
    },
    {
      "name": "file_edits",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 975,
            "character": 8
          },
          "end": {
            "line": 1019,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for file_path, file_edits in edits:\n            # Read current file content\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            # Sort edits by position (reverse order to avoid offset issues)\n            sorted_edits = sorted(\n                file_edits,\n                key=lambda e: (e.range.start.line, e.range.start.character),\n                reverse=True,\n            )\n\n            # Apply edits\n            for edit in sorted_edits:\n                start_line = edit.range.start.line\n                start_char = edit.range.start.character\n                end_line = edit.range.end.line\n                end_char = edit.range.end.character\n\n                if start_line == end_line:\n                    # Single line edit\n                    line = lines[start_line]\n                    lines[start_line] = (\n                        line[:start_char] + edit.newText + line[end_char:]\n                    )\n                else:\n                    # Multi-line edit\n                    start_line_content = lines[start_line][:start_char]\n                    end_line_content = lines[end_line][end_char:]\n\n                    # Replace the range with new text\n                    new_content = start_line_content + edit.newText + end_line_content\n\n                    # Remove old lines and insert new content\n                    del lines[start_line : end_line + 1]\n                    if new_content:\n                        lines.insert(start_line, new_content)\n\n            # Write back to file\n            with open(file_path, \"w\", encoding=\"utf-8\") as f:\n                f.writelines(lines)\n\n            # Notify server of change\n            await self.did_change(file_path)\n"
    },
    {
      "name": "f",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 977,
            "character": 12
          },
          "end": {
            "line": 979,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n"
    },
    {
      "name": "lines",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 978,
            "character": 16
          },
          "end": {
            "line": 978,
            "character": 37
          }
        }
      },
      "kind": "Variable",
      "code_string": "lines = f.readlines()\n"
    },
    {
      "name": "sorted_edits",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 981,
            "character": 12
          },
          "end": {
            "line": 985,
            "character": 13
          }
        }
      },
      "kind": "Variable",
      "code_string": "sorted_edits = sorted(\n                file_edits,\n                key=lambda e: (e.range.start.line, e.range.start.character),\n                reverse=True,\n            )"
    },
    {
      "name": "edit",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 988,
            "character": 12
          },
          "end": {
            "line": 1012,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for edit in sorted_edits:\n                start_line = edit.range.start.line\n                start_char = edit.range.start.character\n                end_line = edit.range.end.line\n                end_char = edit.range.end.character\n\n                if start_line == end_line:\n                    # Single line edit\n                    line = lines[start_line]\n                    lines[start_line] = (\n                        line[:start_char] + edit.newText + line[end_char:]\n                    )\n                else:\n                    # Multi-line edit\n                    start_line_content = lines[start_line][:start_char]\n                    end_line_content = lines[end_line][end_char:]\n\n                    # Replace the range with new text\n                    new_content = start_line_content + edit.newText + end_line_content\n\n                    # Remove old lines and insert new content\n                    del lines[start_line : end_line + 1]\n                    if new_content:\n                        lines.insert(start_line, new_content)\n"
    },
    {
      "name": "start_line",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 989,
            "character": 16
          },
          "end": {
            "line": 989,
            "character": 50
          }
        }
      },
      "kind": "Variable",
      "code_string": "start_line = edit.range.start.line\n"
    },
    {
      "name": "start_char",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 990,
            "character": 16
          },
          "end": {
            "line": 990,
            "character": 55
          }
        }
      },
      "kind": "Variable",
      "code_string": "start_char = edit.range.start.character\n"
    },
    {
      "name": "end_line",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 991,
            "character": 16
          },
          "end": {
            "line": 991,
            "character": 46
          }
        }
      },
      "kind": "Variable",
      "code_string": "end_line = edit.range.end.line\n"
    },
    {
      "name": "end_char",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 992,
            "character": 16
          },
          "end": {
            "line": 992,
            "character": 51
          }
        }
      },
      "kind": "Variable",
      "code_string": "end_char = edit.range.end.character\n"
    },
    {
      "name": "line",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 996,
            "character": 20
          },
          "end": {
            "line": 996,
            "character": 44
          }
        }
      },
      "kind": "Variable",
      "code_string": "line = lines[start_line]\n"
    },
    {
      "name": "start_line_content",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1002,
            "character": 20
          },
          "end": {
            "line": 1002,
            "character": 71
          }
        }
      },
      "kind": "Variable",
      "code_string": "start_line_content = lines[start_line][:start_char]\n"
    },
    {
      "name": "end_line_content",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1003,
            "character": 20
          },
          "end": {
            "line": 1003,
            "character": 65
          }
        }
      },
      "kind": "Variable",
      "code_string": "end_line_content = lines[end_line][end_char:]\n"
    },
    {
      "name": "new_content",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1006,
            "character": 20
          },
          "end": {
            "line": 1006,
            "character": 86
          }
        }
      },
      "kind": "Variable",
      "code_string": "new_content = start_line_content + edit.newText + end_line_content\n"
    },
    {
      "name": "f",
      "containerName": "apply_text_edits",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1014,
            "character": 12
          },
          "end": {
            "line": 1016,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path, \"w\", encoding=\"utf-8\") as f:\n                f.writelines(lines)\n"
    },
    {
      "name": "create_lsp_client",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1045,
            "character": 6
          },
          "end": {
            "line": 1056,
            "character": 0
          }
        }
      },
      "kind": "Function",
      "code_string": "def create_lsp_client(\n    command: str, args: List[str] = None, workspace_path: str = None\n) -> LSPClient:\n    \"\"\"Create and initialize an LSP client\"\"\"\n    client = LSPClient(command, args, workspace_path)\n    await client.start()\n\n    if workspace_path:\n        await client.initialize(workspace_path)\n\n    return client\n"
    },
    {
      "name": "client",
      "containerName": "create_lsp_client",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1049,
            "character": 4
          },
          "end": {
            "line": 1049,
            "character": 53
          }
        }
      },
      "kind": "Variable",
      "code_string": "client = LSPClient(command, args, workspace_path)\n"
    },
    {
      "name": "LSPTools",
      "containerName": null,
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1058,
            "character": 0
          },
          "end": {
            "line": 1187,
            "character": 21
          }
        }
      },
      "kind": "Class",
      "code_string": "class LSPTools:\n    \"\"\"High-level tools for LSP operations\"\"\"\n\n    def __init__(self, client: LSPClient):\n        self.client = client\n\n    async def get_symbol_definition_content(self, symbol_name: str) -> str:\n        \"\"\"Get the source code content of a symbol definition\"\"\"\n        location = await self.client.find_symbol_definition(symbol_name)\n\n        if not location:\n            return f\"Symbol '{symbol_name}' not found\"\n\n        file_path = self.client.uri_to_path(location.uri)\n\n        try:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            start_line = location.range.start.line\n            end_line = location.range.end.line\n\n            # Get the definition content\n            definition_lines = lines[start_line : end_line + 1]\n\n            # Add line numbers\n            numbered_lines = []\n            for i, line in enumerate(definition_lines):\n                line_num = start_line + i + 1\n                numbered_lines.append(f\"{line_num:4d}: {line.rstrip()}\")\n\n            result = f\"Symbol: {symbol_name}\\n\"\n            result += f\"File: {file_path}\\n\"\n            result += f\"Range: L{start_line + 1}:C{location.range.start.character + 1} - L{end_line + 1}:C{location.range.end.character + 1}\\n\\n\"\n            result += \"\\n\".join(numbered_lines)\n\n            return result\n\n        except Exception as e:\n            return f\"Error reading definition: {e}\"\n\n    async def get_all_references_content(\n        self, file_path: str, line: int, character: int\n    ) -> str:\n        \"\"\"Get all references to a symbol with surrounding context\"\"\"\n        references = await self.client.get_references(file_path, line, character)\n\n        if not references:\n            return \"No references found\"\n\n        result = f\"Found {len(references)} reference(s):\\n\\n\"\n\n        for i, ref in enumerate(references):\n            ref_file = self.client.uri_to_path(ref.uri)\n            ref_line = ref.range.start.line\n            ref_char = ref.range.start.character\n\n            try:\n                with open(ref_file, \"r\", encoding=\"utf-8\") as f:\n                    lines = f.readlines()\n\n                # Get context lines\n                context_start = max(0, ref_line - 2)\n                context_end = min(len(lines), ref_line + 3)\n                context_lines = lines[context_start:context_end]\n\n                result += f\"Reference {i + 1}:\\n\"\n                result += f\"File: {ref_file}\\n\"\n                result += f\"Position: L{ref_line + 1}:C{ref_char + 1}\\n\\n\"\n\n                for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n\n                result += \"\\n\"\n\n            except Exception as e:\n                result += f\"Error reading reference: {e}\\n\\n\"\n\n        return result\n\n    async def get_diagnostics_report(self, file_path: str) -> str:\n        \"\"\"Get a formatted diagnostics report for a file\"\"\"\n        diagnostics = await self.client.get_diagnostics(file_path)\n\n        if not diagnostics:\n            return f\"No diagnostics found for {file_path}\"\n\n        severity_map = {1: \"ERROR\", 2: \"WARNING\", 3: \"INFO\", 4: \"HINT\"}\n\n        result = f\"Diagnostics for {file_path} ({len(diagnostics)} issue(s)):\\n\\n\"\n\n        try:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            for i, diag in enumerate(diagnostics):\n                severity = severity_map.get(diag.severity, \"UNKNOWN\")\n                line_num = diag.range.start.line + 1\n                char_num = diag.range.start.character + 1\n\n                result += f\"Issue {i + 1}: {severity}\\n\"\n                result += f\"Position: L{line_num}:C{char_num}\\n\"\n                result += f\"Message: {diag.message}\\n\"\n\n                if diag.code:\n                    result += f\"Code: {diag.code}\\n\"\n                if diag.source:\n                    result += f\"Source: {diag.source}\\n\"\n\n                # Show the problematic line\n                if diag.range.start.line < len(lines):\n                    problem_line = lines[diag.range.start.line].rstrip()\n                    result += f\"Line: {problem_line}\\n\"\n\n                    # Show pointer to the problem area\n                    pointer = \" \" * (char_num - 1) + \"^\"\n                    if diag.range.end.character > diag.range.start.character:\n                        pointer += \"~\" * (\n                            diag.range.end.character - diag.range.start.character - 1\n                        )\n                    result += f\"      {pointer}\\n\"\n\n                result += \"\\n\"\n\n        except Exception as e:\n            result += f\"Error reading file: {e}\\n\"\n\n        return result"
    },
    {
      "name": "__init__",
      "containerName": "LSPTools",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1061,
            "character": 4
          },
          "end": {
            "line": 1063,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def __init__(self, client: LSPClient):\n        self.client = client\n"
    },
    {
      "name": "get_symbol_definition_content",
      "containerName": "LSPTools",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1064,
            "character": 10
          },
          "end": {
            "line": 1098,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_symbol_definition_content(self, symbol_name: str) -> str:\n        \"\"\"Get the source code content of a symbol definition\"\"\"\n        location = await self.client.find_symbol_definition(symbol_name)\n\n        if not location:\n            return f\"Symbol '{symbol_name}' not found\"\n\n        file_path = self.client.uri_to_path(location.uri)\n\n        try:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            start_line = location.range.start.line\n            end_line = location.range.end.line\n\n            # Get the definition content\n            definition_lines = lines[start_line : end_line + 1]\n\n            # Add line numbers\n            numbered_lines = []\n            for i, line in enumerate(definition_lines):\n                line_num = start_line + i + 1\n                numbered_lines.append(f\"{line_num:4d}: {line.rstrip()}\")\n\n            result = f\"Symbol: {symbol_name}\\n\"\n            result += f\"File: {file_path}\\n\"\n            result += f\"Range: L{start_line + 1}:C{location.range.start.character + 1} - L{end_line + 1}:C{location.range.end.character + 1}\\n\\n\"\n            result += \"\\n\".join(numbered_lines)\n\n            return result\n\n        except Exception as e:\n            return f\"Error reading definition: {e}\"\n"
    },
    {
      "name": "get_all_references_content",
      "containerName": "LSPTools",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1099,
            "character": 10
          },
          "end": {
            "line": 1139,
            "character": 0
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_all_references_content(\n        self, file_path: str, line: int, character: int\n    ) -> str:\n        \"\"\"Get all references to a symbol with surrounding context\"\"\"\n        references = await self.client.get_references(file_path, line, character)\n\n        if not references:\n            return \"No references found\"\n\n        result = f\"Found {len(references)} reference(s):\\n\\n\"\n\n        for i, ref in enumerate(references):\n            ref_file = self.client.uri_to_path(ref.uri)\n            ref_line = ref.range.start.line\n            ref_char = ref.range.start.character\n\n            try:\n                with open(ref_file, \"r\", encoding=\"utf-8\") as f:\n                    lines = f.readlines()\n\n                # Get context lines\n                context_start = max(0, ref_line - 2)\n                context_end = min(len(lines), ref_line + 3)\n                context_lines = lines[context_start:context_end]\n\n                result += f\"Reference {i + 1}:\\n\"\n                result += f\"File: {ref_file}\\n\"\n                result += f\"Position: L{ref_line + 1}:C{ref_char + 1}\\n\\n\"\n\n                for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n\n                result += \"\\n\"\n\n            except Exception as e:\n                result += f\"Error reading reference: {e}\\n\\n\"\n\n        return result\n"
    },
    {
      "name": "get_diagnostics_report",
      "containerName": "LSPTools",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1140,
            "character": 10
          },
          "end": {
            "line": 1187,
            "character": 21
          }
        }
      },
      "kind": "Method",
      "code_string": "def get_diagnostics_report(self, file_path: str) -> str:\n        \"\"\"Get a formatted diagnostics report for a file\"\"\"\n        diagnostics = await self.client.get_diagnostics(file_path)\n\n        if not diagnostics:\n            return f\"No diagnostics found for {file_path}\"\n\n        severity_map = {1: \"ERROR\", 2: \"WARNING\", 3: \"INFO\", 4: \"HINT\"}\n\n        result = f\"Diagnostics for {file_path} ({len(diagnostics)} issue(s)):\\n\\n\"\n\n        try:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            for i, diag in enumerate(diagnostics):\n                severity = severity_map.get(diag.severity, \"UNKNOWN\")\n                line_num = diag.range.start.line + 1\n                char_num = diag.range.start.character + 1\n\n                result += f\"Issue {i + 1}: {severity}\\n\"\n                result += f\"Position: L{line_num}:C{char_num}\\n\"\n                result += f\"Message: {diag.message}\\n\"\n\n                if diag.code:\n                    result += f\"Code: {diag.code}\\n\"\n                if diag.source:\n                    result += f\"Source: {diag.source}\\n\"\n\n                # Show the problematic line\n                if diag.range.start.line < len(lines):\n                    problem_line = lines[diag.range.start.line].rstrip()\n                    result += f\"Line: {problem_line}\\n\"\n\n                    # Show pointer to the problem area\n                    pointer = \" \" * (char_num - 1) + \"^\"\n                    if diag.range.end.character > diag.range.start.character:\n                        pointer += \"~\" * (\n                            diag.range.end.character - diag.range.start.character - 1\n                        )\n                    result += f\"      {pointer}\\n\"\n\n                result += \"\\n\"\n\n        except Exception as e:\n            result += f\"Error reading file: {e}\\n\"\n\n        return result"
    },
    {
      "name": "client",
      "containerName": "__init__",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1062,
            "character": 8
          },
          "end": {
            "line": 1062,
            "character": 28
          }
        }
      },
      "kind": "Field",
      "code_string": "self.client = client\n"
    },
    {
      "name": "location",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1066,
            "character": 8
          },
          "end": {
            "line": 1066,
            "character": 72
          }
        }
      },
      "kind": "Variable",
      "code_string": "location = await self.client.find_symbol_definition(symbol_name)\n"
    },
    {
      "name": "file_path",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1071,
            "character": 8
          },
          "end": {
            "line": 1071,
            "character": 57
          }
        }
      },
      "kind": "Variable",
      "code_string": "file_path = self.client.uri_to_path(location.uri)\n"
    },
    {
      "name": "f",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1074,
            "character": 12
          },
          "end": {
            "line": 1076,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n"
    },
    {
      "name": "lines",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1075,
            "character": 16
          },
          "end": {
            "line": 1075,
            "character": 37
          }
        }
      },
      "kind": "Variable",
      "code_string": "lines = f.readlines()\n"
    },
    {
      "name": "start_line",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1077,
            "character": 12
          },
          "end": {
            "line": 1077,
            "character": 50
          }
        }
      },
      "kind": "Variable",
      "code_string": "start_line = location.range.start.line\n"
    },
    {
      "name": "end_line",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1078,
            "character": 12
          },
          "end": {
            "line": 1078,
            "character": 46
          }
        }
      },
      "kind": "Variable",
      "code_string": "end_line = location.range.end.line\n"
    },
    {
      "name": "definition_lines",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1081,
            "character": 12
          },
          "end": {
            "line": 1081,
            "character": 63
          }
        }
      },
      "kind": "Variable",
      "code_string": "definition_lines = lines[start_line : end_line + 1]\n"
    },
    {
      "name": "numbered_lines",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1084,
            "character": 12
          },
          "end": {
            "line": 1084,
            "character": 31
          }
        }
      },
      "kind": "Variable",
      "code_string": "numbered_lines = []\n"
    },
    {
      "name": "i",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1085,
            "character": 12
          },
          "end": {
            "line": 1088,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i, line in enumerate(definition_lines):\n                line_num = start_line + i + 1\n                numbered_lines.append(f\"{line_num:4d}: {line.rstrip()}\")\n"
    },
    {
      "name": "line",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1085,
            "character": 12
          },
          "end": {
            "line": 1088,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i, line in enumerate(definition_lines):\n                line_num = start_line + i + 1\n                numbered_lines.append(f\"{line_num:4d}: {line.rstrip()}\")\n"
    },
    {
      "name": "line_num",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1086,
            "character": 16
          },
          "end": {
            "line": 1086,
            "character": 45
          }
        }
      },
      "kind": "Variable",
      "code_string": "line_num = start_line + i + 1\n"
    },
    {
      "name": "result",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1089,
            "character": 12
          },
          "end": {
            "line": 1089,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = f\"Symbol: {symbol_name}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1090,
            "character": 12
          },
          "end": {
            "line": 1090,
            "character": 44
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"File: {file_path}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1091,
            "character": 12
          },
          "end": {
            "line": 1091,
            "character": 145
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Range: L{start_line + 1}:C{location.range.start.character + 1} - L{end_line + 1}:C{location.range.end.character + 1}\\n\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1092,
            "character": 12
          },
          "end": {
            "line": 1092,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += \"\\n\".join(numbered_lines)\n"
    },
    {
      "name": "e",
      "containerName": "get_symbol_definition_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1073,
            "character": 8
          },
          "end": {
            "line": 1098,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            start_line = location.range.start.line\n            end_line = location.range.end.line\n\n            # Get the definition content\n            definition_lines = lines[start_line : end_line + 1]\n\n            # Add line numbers\n            numbered_lines = []\n            for i, line in enumerate(definition_lines):\n                line_num = start_line + i + 1\n                numbered_lines.append(f\"{line_num:4d}: {line.rstrip()}\")\n\n            result = f\"Symbol: {symbol_name}\\n\"\n            result += f\"File: {file_path}\\n\"\n            result += f\"Range: L{start_line + 1}:C{location.range.start.character + 1} - L{end_line + 1}:C{location.range.end.character + 1}\\n\\n\"\n            result += \"\\n\".join(numbered_lines)\n\n            return result\n\n        except Exception as e:\n            return f\"Error reading definition: {e}\"\n"
    },
    {
      "name": "references",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1103,
            "character": 8
          },
          "end": {
            "line": 1103,
            "character": 81
          }
        }
      },
      "kind": "Variable",
      "code_string": "references = await self.client.get_references(file_path, line, character)\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1108,
            "character": 8
          },
          "end": {
            "line": 1108,
            "character": 61
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = f\"Found {len(references)} reference(s):\\n\\n\"\n"
    },
    {
      "name": "i",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1110,
            "character": 8
          },
          "end": {
            "line": 1137,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i, ref in enumerate(references):\n            ref_file = self.client.uri_to_path(ref.uri)\n            ref_line = ref.range.start.line\n            ref_char = ref.range.start.character\n\n            try:\n                with open(ref_file, \"r\", encoding=\"utf-8\") as f:\n                    lines = f.readlines()\n\n                # Get context lines\n                context_start = max(0, ref_line - 2)\n                context_end = min(len(lines), ref_line + 3)\n                context_lines = lines[context_start:context_end]\n\n                result += f\"Reference {i + 1}:\\n\"\n                result += f\"File: {ref_file}\\n\"\n                result += f\"Position: L{ref_line + 1}:C{ref_char + 1}\\n\\n\"\n\n                for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n\n                result += \"\\n\"\n\n            except Exception as e:\n                result += f\"Error reading reference: {e}\\n\\n\"\n"
    },
    {
      "name": "ref",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1110,
            "character": 8
          },
          "end": {
            "line": 1137,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i, ref in enumerate(references):\n            ref_file = self.client.uri_to_path(ref.uri)\n            ref_line = ref.range.start.line\n            ref_char = ref.range.start.character\n\n            try:\n                with open(ref_file, \"r\", encoding=\"utf-8\") as f:\n                    lines = f.readlines()\n\n                # Get context lines\n                context_start = max(0, ref_line - 2)\n                context_end = min(len(lines), ref_line + 3)\n                context_lines = lines[context_start:context_end]\n\n                result += f\"Reference {i + 1}:\\n\"\n                result += f\"File: {ref_file}\\n\"\n                result += f\"Position: L{ref_line + 1}:C{ref_char + 1}\\n\\n\"\n\n                for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n\n                result += \"\\n\"\n\n            except Exception as e:\n                result += f\"Error reading reference: {e}\\n\\n\"\n"
    },
    {
      "name": "ref_file",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1111,
            "character": 12
          },
          "end": {
            "line": 1111,
            "character": 55
          }
        }
      },
      "kind": "Variable",
      "code_string": "ref_file = self.client.uri_to_path(ref.uri)\n"
    },
    {
      "name": "ref_line",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1112,
            "character": 12
          },
          "end": {
            "line": 1112,
            "character": 43
          }
        }
      },
      "kind": "Variable",
      "code_string": "ref_line = ref.range.start.line\n"
    },
    {
      "name": "ref_char",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1113,
            "character": 12
          },
          "end": {
            "line": 1113,
            "character": 48
          }
        }
      },
      "kind": "Variable",
      "code_string": "ref_char = ref.range.start.character\n"
    },
    {
      "name": "f",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1116,
            "character": 16
          },
          "end": {
            "line": 1118,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(ref_file, \"r\", encoding=\"utf-8\") as f:\n                    lines = f.readlines()\n"
    },
    {
      "name": "lines",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1117,
            "character": 20
          },
          "end": {
            "line": 1117,
            "character": 41
          }
        }
      },
      "kind": "Variable",
      "code_string": "lines = f.readlines()\n"
    },
    {
      "name": "context_start",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1120,
            "character": 16
          },
          "end": {
            "line": 1120,
            "character": 52
          }
        }
      },
      "kind": "Variable",
      "code_string": "context_start = max(0, ref_line - 2)\n"
    },
    {
      "name": "context_end",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1121,
            "character": 16
          },
          "end": {
            "line": 1121,
            "character": 59
          }
        }
      },
      "kind": "Variable",
      "code_string": "context_end = min(len(lines), ref_line + 3)\n"
    },
    {
      "name": "context_lines",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1122,
            "character": 16
          },
          "end": {
            "line": 1122,
            "character": 64
          }
        }
      },
      "kind": "Variable",
      "code_string": "context_lines = lines[context_start:context_end]\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1124,
            "character": 16
          },
          "end": {
            "line": 1124,
            "character": 49
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Reference {i + 1}:\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1125,
            "character": 16
          },
          "end": {
            "line": 1125,
            "character": 47
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"File: {ref_file}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1126,
            "character": 16
          },
          "end": {
            "line": 1126,
            "character": 74
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Position: L{ref_line + 1}:C{ref_char + 1}\\n\\n\"\n"
    },
    {
      "name": "j",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1128,
            "character": 16
          },
          "end": {
            "line": 1132,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n"
    },
    {
      "name": "line",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1128,
            "character": 16
          },
          "end": {
            "line": 1132,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n"
    },
    {
      "name": "line_num",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1129,
            "character": 20
          },
          "end": {
            "line": 1129,
            "character": 52
          }
        }
      },
      "kind": "Variable",
      "code_string": "line_num = context_start + j + 1\n"
    },
    {
      "name": "marker",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1130,
            "character": 20
          },
          "end": {
            "line": 1130,
            "character": 78
          }
        }
      },
      "kind": "Variable",
      "code_string": "marker = \">>>\" if context_start + j == ref_line else \"   \"\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1131,
            "character": 20
          },
          "end": {
            "line": 1131,
            "character": 74
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1133,
            "character": 16
          },
          "end": {
            "line": 1133,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += \"\\n\"\n"
    },
    {
      "name": "e",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1115,
            "character": 12
          },
          "end": {
            "line": 1137,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n                with open(ref_file, \"r\", encoding=\"utf-8\") as f:\n                    lines = f.readlines()\n\n                # Get context lines\n                context_start = max(0, ref_line - 2)\n                context_end = min(len(lines), ref_line + 3)\n                context_lines = lines[context_start:context_end]\n\n                result += f\"Reference {i + 1}:\\n\"\n                result += f\"File: {ref_file}\\n\"\n                result += f\"Position: L{ref_line + 1}:C{ref_char + 1}\\n\\n\"\n\n                for j, line in enumerate(context_lines):\n                    line_num = context_start + j + 1\n                    marker = \">>>\" if context_start + j == ref_line else \"   \"\n                    result += f\"{marker} {line_num:4d}: {line.rstrip()}\\n\"\n\n                result += \"\\n\"\n\n            except Exception as e:\n                result += f\"Error reading reference: {e}\\n\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_all_references_content",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1136,
            "character": 16
          },
          "end": {
            "line": 1136,
            "character": 61
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Error reading reference: {e}\\n\\n\"\n"
    },
    {
      "name": "diagnostics",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1142,
            "character": 8
          },
          "end": {
            "line": 1142,
            "character": 66
          }
        }
      },
      "kind": "Variable",
      "code_string": "diagnostics = await self.client.get_diagnostics(file_path)\n"
    },
    {
      "name": "severity_map",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1147,
            "character": 8
          },
          "end": {
            "line": 1147,
            "character": 71
          }
        }
      },
      "kind": "Variable",
      "code_string": "severity_map = {1: \"ERROR\", 2: \"WARNING\", 3: \"INFO\", 4: \"HINT\"}\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1149,
            "character": 8
          },
          "end": {
            "line": 1149,
            "character": 82
          }
        }
      },
      "kind": "Variable",
      "code_string": "result = f\"Diagnostics for {file_path} ({len(diagnostics)} issue(s)):\\n\\n\"\n"
    },
    {
      "name": "f",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1152,
            "character": 12
          },
          "end": {
            "line": 1154,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n"
    },
    {
      "name": "lines",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1153,
            "character": 16
          },
          "end": {
            "line": 1153,
            "character": 37
          }
        }
      },
      "kind": "Variable",
      "code_string": "lines = f.readlines()\n"
    },
    {
      "name": "i",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1155,
            "character": 12
          },
          "end": {
            "line": 1183,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i, diag in enumerate(diagnostics):\n                severity = severity_map.get(diag.severity, \"UNKNOWN\")\n                line_num = diag.range.start.line + 1\n                char_num = diag.range.start.character + 1\n\n                result += f\"Issue {i + 1}: {severity}\\n\"\n                result += f\"Position: L{line_num}:C{char_num}\\n\"\n                result += f\"Message: {diag.message}\\n\"\n\n                if diag.code:\n                    result += f\"Code: {diag.code}\\n\"\n                if diag.source:\n                    result += f\"Source: {diag.source}\\n\"\n\n                # Show the problematic line\n                if diag.range.start.line < len(lines):\n                    problem_line = lines[diag.range.start.line].rstrip()\n                    result += f\"Line: {problem_line}\\n\"\n\n                    # Show pointer to the problem area\n                    pointer = \" \" * (char_num - 1) + \"^\"\n                    if diag.range.end.character > diag.range.start.character:\n                        pointer += \"~\" * (\n                            diag.range.end.character - diag.range.start.character - 1\n                        )\n                    result += f\"      {pointer}\\n\"\n\n                result += \"\\n\"\n"
    },
    {
      "name": "diag",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1155,
            "character": 12
          },
          "end": {
            "line": 1183,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "for i, diag in enumerate(diagnostics):\n                severity = severity_map.get(diag.severity, \"UNKNOWN\")\n                line_num = diag.range.start.line + 1\n                char_num = diag.range.start.character + 1\n\n                result += f\"Issue {i + 1}: {severity}\\n\"\n                result += f\"Position: L{line_num}:C{char_num}\\n\"\n                result += f\"Message: {diag.message}\\n\"\n\n                if diag.code:\n                    result += f\"Code: {diag.code}\\n\"\n                if diag.source:\n                    result += f\"Source: {diag.source}\\n\"\n\n                # Show the problematic line\n                if diag.range.start.line < len(lines):\n                    problem_line = lines[diag.range.start.line].rstrip()\n                    result += f\"Line: {problem_line}\\n\"\n\n                    # Show pointer to the problem area\n                    pointer = \" \" * (char_num - 1) + \"^\"\n                    if diag.range.end.character > diag.range.start.character:\n                        pointer += \"~\" * (\n                            diag.range.end.character - diag.range.start.character - 1\n                        )\n                    result += f\"      {pointer}\\n\"\n\n                result += \"\\n\"\n"
    },
    {
      "name": "severity",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1156,
            "character": 16
          },
          "end": {
            "line": 1156,
            "character": 69
          }
        }
      },
      "kind": "Variable",
      "code_string": "severity = severity_map.get(diag.severity, \"UNKNOWN\")\n"
    },
    {
      "name": "line_num",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1157,
            "character": 16
          },
          "end": {
            "line": 1157,
            "character": 52
          }
        }
      },
      "kind": "Variable",
      "code_string": "line_num = diag.range.start.line + 1\n"
    },
    {
      "name": "char_num",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1158,
            "character": 16
          },
          "end": {
            "line": 1158,
            "character": 57
          }
        }
      },
      "kind": "Variable",
      "code_string": "char_num = diag.range.start.character + 1\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1160,
            "character": 16
          },
          "end": {
            "line": 1160,
            "character": 56
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Issue {i + 1}: {severity}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1161,
            "character": 16
          },
          "end": {
            "line": 1161,
            "character": 64
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Position: L{line_num}:C{char_num}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1162,
            "character": 16
          },
          "end": {
            "line": 1162,
            "character": 54
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Message: {diag.message}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1165,
            "character": 20
          },
          "end": {
            "line": 1165,
            "character": 52
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Code: {diag.code}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1167,
            "character": 20
          },
          "end": {
            "line": 1167,
            "character": 56
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Source: {diag.source}\\n\"\n"
    },
    {
      "name": "problem_line",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1171,
            "character": 20
          },
          "end": {
            "line": 1171,
            "character": 72
          }
        }
      },
      "kind": "Variable",
      "code_string": "problem_line = lines[diag.range.start.line].rstrip()\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1172,
            "character": 20
          },
          "end": {
            "line": 1172,
            "character": 55
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Line: {problem_line}\\n\"\n"
    },
    {
      "name": "pointer",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1175,
            "character": 20
          },
          "end": {
            "line": 1175,
            "character": 56
          }
        }
      },
      "kind": "Variable",
      "code_string": "pointer = \" \" * (char_num - 1) + \"^\"\n"
    },
    {
      "name": "pointer",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1177,
            "character": 24
          },
          "end": {
            "line": 1179,
            "character": 25
          }
        }
      },
      "kind": "Variable",
      "code_string": "pointer += \"~\" * (\n                            diag.range.end.character - diag.range.start.character - 1\n                        )"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1180,
            "character": 20
          },
          "end": {
            "line": 1180,
            "character": 50
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"      {pointer}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1182,
            "character": 16
          },
          "end": {
            "line": 1182,
            "character": 30
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += \"\\n\"\n"
    },
    {
      "name": "e",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1151,
            "character": 8
          },
          "end": {
            "line": 1186,
            "character": 0
          }
        }
      },
      "kind": "Variable",
      "code_string": "try:\n            with open(file_path, \"r\", encoding=\"utf-8\") as f:\n                lines = f.readlines()\n\n            for i, diag in enumerate(diagnostics):\n                severity = severity_map.get(diag.severity, \"UNKNOWN\")\n                line_num = diag.range.start.line + 1\n                char_num = diag.range.start.character + 1\n\n                result += f\"Issue {i + 1}: {severity}\\n\"\n                result += f\"Position: L{line_num}:C{char_num}\\n\"\n                result += f\"Message: {diag.message}\\n\"\n\n                if diag.code:\n                    result += f\"Code: {diag.code}\\n\"\n                if diag.source:\n                    result += f\"Source: {diag.source}\\n\"\n\n                # Show the problematic line\n                if diag.range.start.line < len(lines):\n                    problem_line = lines[diag.range.start.line].rstrip()\n                    result += f\"Line: {problem_line}\\n\"\n\n                    # Show pointer to the problem area\n                    pointer = \" \" * (char_num - 1) + \"^\"\n                    if diag.range.end.character > diag.range.start.character:\n                        pointer += \"~\" * (\n                            diag.range.end.character - diag.range.start.character - 1\n                        )\n                    result += f\"      {pointer}\\n\"\n\n                result += \"\\n\"\n\n        except Exception as e:\n            result += f\"Error reading file: {e}\\n\"\n"
    },
    {
      "name": "result",
      "containerName": "get_diagnostics_report",
      "location": {
        "uri": "file:///Users/eswar.tadiparth/Documents/open-source/lsp-2-graph/lsp2graph/lsp_client.py",
        "range": {
          "start": {
            "line": 1185,
            "character": 12
          },
          "end": {
            "line": 1185,
            "character": 50
          }
        }
      },
      "kind": "Variable",
      "code_string": "result += f\"Error reading file: {e}\\n\"\n"
    }
  ]
]